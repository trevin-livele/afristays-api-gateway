2025-09-11 09:24:29.265 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Starting AfristaysApiGatewayApplication using Java 21.0.5 with PID 31272 (C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway\target\classes started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 09:24:29.282 [main] DEBUG [] [] c.a.a.AfristaysApiGatewayApplication - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 09:24:29.283 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-11 09:24:31.118 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 09:24:31.124 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 09:24:31.176 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-09-11 09:24:31.412 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=2f1d2cd6-abb3-3c22-870d-48bf921bbc81
2025-09-11 09:24:32.540 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 09:24:32.941 [main] DEBUG [] [] o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=https://httpbin.org, order=0, metadata={}, enabled=true}]
2025-09-11 09:24:33.195 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-09-11 09:24:33.197 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-09-11 09:24:33.323 [main] DEBUG [] [] o.s.w.r.r.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2025-09-11 09:24:33.341 [main] DEBUG [] [] o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-11 09:24:33.587 [main] INFO  [] [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-11 09:24:33.648 [main] DEBUG [] [] o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2025-09-11 09:24:34.098 [main] INFO  [] [] o.s.b.w.e.netty.NettyWebServer - Netty started on port 31304 (http)
2025-09-11 09:24:34.212 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying {_genkey_0=/test/**} to Path
2025-09-11 09:24:34.232 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying filter {_genkey_0=1} to StripPrefix
2025-09-11 09:24:34.250 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test-route
2025-09-11 09:24:34.256 [main] DEBUG [] [] o.s.c.g.filter.GatewayMetricsFilter - New routes count: 1
2025-09-11 09:24:34.258 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Started AfristaysApiGatewayApplication in 6.052 seconds (process running for 8.606)
2025-09-11 09:24:34.262 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Initializing security components...
2025-09-11 09:24:34.263 [main] INFO  [] [] c.a.a.service.IpBlacklistService - Initialized IP lists - Blacklisted: 0, Whitelisted: 2
2025-09-11 09:24:34.264 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Security components initialized successfully
2025-09-11 10:14:02.016 [SpringApplicationShutdownHook] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-11 10:14:02.056 [netty-shutdown] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-09-11 11:08:39.953 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Starting AfristaysApiGatewayApplication using Java 21.0.5 with PID 29476 (C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway\target\classes started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 11:08:39.954 [main] DEBUG [] [] c.a.a.AfristaysApiGatewayApplication - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 11:08:39.955 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-11 11:08:41.081 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 11:08:41.085 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 11:08:41.116 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-09-11 11:08:41.310 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=2f1d2cd6-abb3-3c22-870d-48bf921bbc81
2025-09-11 11:08:42.056 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 11:08:42.328 [main] DEBUG [] [] o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=https://httpbin.org, order=0, metadata={}, enabled=true}]
2025-09-11 11:08:42.479 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-09-11 11:08:42.480 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-09-11 11:08:42.569 [main] DEBUG [] [] o.s.w.r.r.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2025-09-11 11:08:42.583 [main] DEBUG [] [] o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-11 11:08:42.732 [main] INFO  [] [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-11 11:08:42.768 [main] DEBUG [] [] o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2025-09-11 11:08:43.096 [main] INFO  [] [] o.s.b.w.e.netty.NettyWebServer - Netty started on port 31304 (http)
2025-09-11 11:08:43.150 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying {_genkey_0=/test/**} to Path
2025-09-11 11:08:43.160 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying filter {_genkey_0=1} to StripPrefix
2025-09-11 11:08:43.166 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test-route
2025-09-11 11:08:43.171 [main] DEBUG [] [] o.s.c.g.filter.GatewayMetricsFilter - New routes count: 1
2025-09-11 11:08:43.172 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Started AfristaysApiGatewayApplication in 3.703 seconds (process running for 8.356)
2025-09-11 11:08:43.175 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Initializing security components...
2025-09-11 11:08:43.175 [main] INFO  [] [] c.a.a.service.IpBlacklistService - Initialized IP lists - Blacklisted: 0, Whitelisted: 2
2025-09-11 11:08:43.176 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Security components initialized successfully
2025-09-11 11:08:52.188 [SpringApplicationShutdownHook] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-11 11:08:52.191 [netty-shutdown] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-09-11 11:09:03.293 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Starting AfristaysApiGatewayApplication using Java 21.0.5 with PID 13740 (C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway\target\classes started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 11:09:03.296 [main] DEBUG [] [] c.a.a.AfristaysApiGatewayApplication - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 11:09:03.297 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-11 11:09:06.072 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 11:09:06.081 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 11:09:06.161 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-09-11 11:09:06.557 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=2f1d2cd6-abb3-3c22-870d-48bf921bbc81
2025-09-11 11:09:08.553 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 11:09:09.558 [main] DEBUG [] [] o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=https://httpbin.org, order=0, metadata={}, enabled=true}]
2025-09-11 11:09:10.690 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-09-11 11:09:10.699 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-09-11 11:09:10.700 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-09-11 11:09:10.700 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-09-11 11:09:10.702 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-09-11 11:09:10.702 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-09-11 11:09:10.704 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-09-11 11:09:10.708 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-09-11 11:09:11.446 [main] DEBUG [] [] o.s.w.r.r.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2025-09-11 11:09:11.523 [main] DEBUG [] [] o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-11 11:09:12.726 [main] INFO  [] [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-11 11:09:12.917 [main] DEBUG [] [] o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2025-09-11 11:09:14.182 [main] INFO  [] [] o.s.b.w.e.netty.NettyWebServer - Netty started on port 31304 (http)
2025-09-11 11:09:14.350 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying {_genkey_0=/test/**} to Path
2025-09-11 11:09:14.400 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying filter {_genkey_0=1} to StripPrefix
2025-09-11 11:09:14.425 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test-route
2025-09-11 11:09:14.440 [main] DEBUG [] [] o.s.c.g.filter.GatewayMetricsFilter - New routes count: 1
2025-09-11 11:09:14.444 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Started AfristaysApiGatewayApplication in 12.762 seconds (process running for 14.693)
2025-09-11 11:09:14.452 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Initializing security components...
2025-09-11 11:09:14.453 [main] INFO  [] [] c.a.a.service.IpBlacklistService - Initialized IP lists - Blacklisted: 0, Whitelisted: 2
2025-09-11 11:09:14.456 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Security components initialized successfully
2025-09-11 11:09:15.955 [boundedElastic-1] WARN  [] [] o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1274)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1149)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:120)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:10:54.822 [SpringApplicationShutdownHook] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-11 11:10:54.826 [netty-shutdown] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-09-11 11:11:00.052 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Starting AfristaysApiGatewayApplication using Java 21.0.5 with PID 32476 (C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway\target\classes started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 11:11:00.053 [main] DEBUG [] [] c.a.a.AfristaysApiGatewayApplication - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 11:11:00.054 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-11 11:11:01.092 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 11:11:01.094 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 11:11:01.120 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-09-11 11:11:01.257 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=2f1d2cd6-abb3-3c22-870d-48bf921bbc81
2025-09-11 11:11:01.890 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 11:11:02.152 [main] DEBUG [] [] o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=https://httpbin.org, order=0, metadata={}, enabled=true}]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-09-11 11:11:02.306 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-09-11 11:11:02.418 [main] DEBUG [] [] o.s.w.r.r.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2025-09-11 11:11:02.438 [main] DEBUG [] [] o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-11 11:11:02.642 [main] INFO  [] [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-11 11:11:02.699 [main] DEBUG [] [] o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2025-09-11 11:11:03.001 [main] INFO  [] [] o.s.b.w.e.netty.NettyWebServer - Netty started on port 31304 (http)
2025-09-11 11:11:03.040 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying {_genkey_0=/test/**} to Path
2025-09-11 11:11:03.056 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying filter {_genkey_0=1} to StripPrefix
2025-09-11 11:11:03.063 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test-route
2025-09-11 11:11:03.068 [main] DEBUG [] [] o.s.c.g.filter.GatewayMetricsFilter - New routes count: 1
2025-09-11 11:11:03.071 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Started AfristaysApiGatewayApplication in 3.681 seconds (process running for 4.565)
2025-09-11 11:11:03.074 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Initializing security components...
2025-09-11 11:11:03.074 [main] INFO  [] [] c.a.a.service.IpBlacklistService - Initialized IP lists - Blacklisted: 0, Whitelisted: 2
2025-09-11 11:11:03.075 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Security components initialized successfully
2025-09-11 11:11:39.189 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:11:39.195 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:11:39.195 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [c7c73097-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:11:39.205 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:11:39.210 [reactor-http-nio-2] INFO  [5b24683e] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:11:39.210 | 5b24683e | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 14
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:11:39.213 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:11:39.214 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:11:39.214 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:11:39.214 [reactor-http-nio-2] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:11:39.261 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51462"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:39.266 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3cf950c5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.001205, duration(nanos)=1205000.0, startTimeNanos=3192998145100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3271b84', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0951592, duration(nanos)=9.51592E7, startTimeNanos=3192904428300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51462"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:39.341 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:11:39.358 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:11:39.359 [reactor-http-nio-4] INFO  [5b24683e] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:11:39.359 | 5b24683e | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 149ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:11:39.360 [reactor-http-nio-4] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:11:39.360 [reactor-http-nio-4] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:11:39.360 [reactor-http-nio-4] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:11:39.360 [reactor-http-nio-4] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:11:39.361 [reactor-http-nio-4] DEBUG [5b24683e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5b24683e | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:11:39.370 [reactor-http-nio-4] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:11:39.370 | 5b24683e | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 160ms | onComplete
2025-09-11 11:11:53.032 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:11:53.033 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:11:53.033 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1d941ab7-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:11:53.033 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:11:53.033 [reactor-http-nio-5] INFO  [8442a8a0] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:11:53.033 | 8442a8a0 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:11:53.034 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:11:53.037 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61390"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:53.039 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@8372b25', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.21E-5, duration(nanos)=92100.0, startTimeNanos=3206771701400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1d63acf7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0060373, duration(nanos)=6037300.0, startTimeNanos=3206765809800}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61390"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:53.041 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:11:53.041 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:11:53.042 [reactor-http-nio-6] INFO  [8442a8a0] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:11:53.042 | 8442a8a0 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 8ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:11:53.042 [reactor-http-nio-6] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:11:53.042 [reactor-http-nio-6] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:11:53.042 [reactor-http-nio-6] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:11:53.042 [reactor-http-nio-6] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:11:53.042 [reactor-http-nio-6] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8442a8a0 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:11:53.042 [reactor-http-nio-6] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:11:53.042 | 8442a8a0 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 9ms | onComplete
2025-09-11 11:11:56.455 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:11:56.455 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:11:56.455 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [1d941ab7-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:11:56.455 [reactor-http-nio-5] DEBUG [8442a8a0] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:11:56.455 [reactor-http-nio-5] INFO  [053f47b4] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:11:56.455 | 053f47b4 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 11:11:56.455 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:11:56.456 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:11:56.460 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61390"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:56.460 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@560168fd', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.74E-5, duration(nanos)=67400.0, startTimeNanos=3210193717500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@776f0529', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0058301, duration(nanos)=5830100.0, startTimeNanos=3210188004100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61390"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:11:56.463 [reactor-http-nio-7] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:11:56.463 [reactor-http-nio-7] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:11:56.463 [reactor-http-nio-7] INFO  [053f47b4] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:11:56.463 | 053f47b4 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 8ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:11:56.463 [reactor-http-nio-7] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:11:56.463 [reactor-http-nio-7] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:11:56.463 [reactor-http-nio-7] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:11:56.463 [reactor-http-nio-7] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:11:56.464 [reactor-http-nio-7] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 053f47b4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:11:56.464 [reactor-http-nio-7] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:11:56.464 | 053f47b4 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 9ms | onComplete
2025-09-11 11:12:23.385 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:12:23.386 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:12:23.386 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [4f73d2d7-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:12:23.387 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:12:23.387 [reactor-http-nio-8] INFO  [c0b9094f] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:12:23.387 | c0b9094f | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 11:12:23.388 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:12:23.388 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:12:23.388 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:12:23.388 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:12:23.388 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:12:23.389 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:12:23.389 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:12:23.389 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:12:23.389 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:12:23.389 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:12:23.390 [reactor-http-nio-8] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:12:23.396 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:54465"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:12:23.397 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@463066e2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.892E-4, duration(nanos)=189200.0, startTimeNanos=3237129838500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@46b47ec7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0129792, duration(nanos)=1.29792E7, startTimeNanos=3237117208100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:54465"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:12:23.400 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:12:23.403 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:12:23.403 [reactor-http-nio-9] INFO  [c0b9094f] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:12:23.403 | c0b9094f | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 16ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:12:23.403 [reactor-http-nio-9] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:12:23.404 [reactor-http-nio-9] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:12:23.404 [reactor-http-nio-9] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:12:23.404 [reactor-http-nio-9] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:12:23.404 [reactor-http-nio-9] DEBUG [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c0b9094f | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:12:23.405 [reactor-http-nio-9] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:12:23.405 | c0b9094f | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 18ms | onComplete
2025-09-11 11:12:58.994 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:12:58.995 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:12:58.995 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [d3335c5c-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:12:59.002 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:12:59.002 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:12:59.003 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [d3335c5c-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:12:59.003 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:12:59.005 [reactor-http-nio-10] INFO  [37a3979c] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:12:59.005 | 37a3979c | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Content-Length: [64]
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:12:59.006 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:12:59.007 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:12:59.008 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:12:59.008 [reactor-http-nio-10] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:12:59.012 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60412"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:12:59.013 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost-auth:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1b2fa06c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.598E-4, duration(nanos)=159800.0, startTimeNanos=3272745790800}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1466a86d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0112154, duration(nanos)=1.12154E7, startTimeNanos=3272734939300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60412"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:12:59.090 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Failed to resolve 'localhost-auth' [A(1)]
java.net.UnknownHostException: Failed to resolve 'localhost-auth' [A(1)]
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1150)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1097)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:455)
	at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:662)
	at io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:70)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:513)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:308)
	at io.netty.resolver.dns.DnsQueryContext.finishSuccess(DnsQueryContext.java:299)
	at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1491)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:107)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
	at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.netty.resolver.dns.DnsErrorCauseException: Query failed with SERVFAIL
	at io.netty.resolver.dns.DnsResolveContext.onResponse(..)(Unknown Source)
2025-09-11 11:12:59.092 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:12:59.093 [reactor-http-nio-3] INFO  [37a3979c] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:12:59.093 | 37a3979c | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 88ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:12:59.093 [reactor-http-nio-3] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:12:59.093 [reactor-http-nio-3] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:12:59.094 [reactor-http-nio-3] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:12:59.094 [reactor-http-nio-3] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:12:59.094 [reactor-http-nio-3] DEBUG [37a3979c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 37a3979c | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:12:59.096 [reactor-http-nio-3] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:12:59.096 | 37a3979c | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 91ms | onComplete
2025-09-11 11:14:17.372 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:14:17.372 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:14:17.374 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [ca3a6765-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:14:17.377 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [ca3a6765-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:14:17.379 [reactor-http-nio-12] INFO  [eb2f276d] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:14:17.379 | eb2f276d | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Content-Length: [64]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:14:17.379 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:14:17.383 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60761"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:17.385 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost-auth:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@51a4db75', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.86E-5, duration(nanos)=78600.0, startTimeNanos=3351117849300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3483c5c0', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0071042, duration(nanos)=7104200.0, startTimeNanos=3351110879200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60761"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:17.396 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Failed to resolve 'localhost-auth' [A(1)]
java.net.UnknownHostException: Failed to resolve 'localhost-auth' [A(1)]
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1150)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1097)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:455)
	at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:662)
	at io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:70)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:513)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:308)
	at io.netty.resolver.dns.DnsQueryContext.finishSuccess(DnsQueryContext.java:299)
	at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1491)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:107)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
	at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.netty.resolver.dns.DnsErrorCauseException: Query failed with SERVFAIL
	at io.netty.resolver.dns.DnsResolveContext.onResponse(..)(Unknown Source)
2025-09-11 11:14:17.397 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:14:17.397 [reactor-http-nio-3] INFO  [eb2f276d] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:14:17.397 | eb2f276d | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 18ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:14:17.397 [reactor-http-nio-3] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:14:17.397 [reactor-http-nio-3] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:14:17.397 [reactor-http-nio-3] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:14:17.397 [reactor-http-nio-3] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:14:17.397 [reactor-http-nio-3] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb2f276d | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:14:17.399 [reactor-http-nio-3] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:14:17.399 | eb2f276d | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 20ms | onComplete
2025-09-11 11:14:30.230 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:14:30.231 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:14:30.231 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [ca3a6765-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:14:30.237 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:14:30.237 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:14:30.238 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [ca3a6765-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:14:30.238 [reactor-http-nio-12] DEBUG [eb2f276d] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:14:30.239 [reactor-http-nio-12] INFO  [573f381c] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:14:30.239 | 573f381c | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Content-Length: [64]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:14:30.240 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:14:30.241 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:14:30.242 [reactor-http-nio-12] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:14:30.249 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60761"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:30.251 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost-auth:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@52c93ffc', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.6E-4, duration(nanos)=160000.0, startTimeNanos=3363983351900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@73cdc008', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0146234, duration(nanos)=1.46234E7, startTimeNanos=3363969057300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60761"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:30.265 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Failed to resolve 'localhost-auth' [A(1)]
java.net.UnknownHostException: Failed to resolve 'localhost-auth' [A(1)]
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1150)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1097)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:455)
	at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:662)
	at io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:70)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:513)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:308)
	at io.netty.resolver.dns.DnsQueryContext.finishSuccess(DnsQueryContext.java:299)
	at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1491)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:107)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
	at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.netty.resolver.dns.DnsErrorCauseException: Query failed with SERVFAIL
	at io.netty.resolver.dns.DnsResolveContext.onResponse(..)(Unknown Source)
2025-09-11 11:14:30.269 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:14:30.269 [reactor-http-nio-3] INFO  [573f381c] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:14:30.269 | 573f381c | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 30ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:14:30.269 [reactor-http-nio-3] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:14:30.269 [reactor-http-nio-3] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:14:30.269 [reactor-http-nio-3] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:14:30.271 [reactor-http-nio-3] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:14:30.271 [reactor-http-nio-3] DEBUG [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 573f381c | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:14:30.271 [reactor-http-nio-3] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:14:30.271 | 573f381c | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 32ms | onComplete
2025-09-11 11:14:52.862 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:14:52.862 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:14:52.862 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [b32a0efc-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:14:52.862 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:14:52.862 [reactor-http-nio-3] INFO  [2954f101] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:14:52.862 | 2954f101 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:14:52.863 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:14:52.864 [reactor-http-nio-3] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:14:52.869 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:49758"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:52.870 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@445d277', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.573E-4, duration(nanos)=157300.0, startTimeNanos=3386602990900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2e42bafa', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0085647, duration(nanos)=8564700.0, startTimeNanos=3386594674400}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:49758"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:14:52.872 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:14:52.874 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:14:52.874 [reactor-http-nio-4] INFO  [2954f101] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:14:52.874 | 2954f101 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 12ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:14:52.875 [reactor-http-nio-4] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:14:52.875 [reactor-http-nio-4] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:14:52.875 [reactor-http-nio-4] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:14:52.875 [reactor-http-nio-4] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:14:52.875 [reactor-http-nio-4] DEBUG [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2954f101 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:14:52.876 [reactor-http-nio-4] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:14:52.876 | 2954f101 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 14ms | onComplete
2025-09-11 11:15:54.584 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:15:54.585 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:15:54.585 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [481be371-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:15:54.587 [reactor-http-nio-5] DEBUG [053f47b4] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:15:54.587 [reactor-http-nio-5] INFO  [26c0f6fe] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:15:54.587 | 26c0f6fe | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 17
2025-09-11 11:15:54.588 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:15:54.588 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:15:54.588 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:15:54.588 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:15:54.588 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:15:54.589 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36]
2025-09-11 11:15:54.590 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Chromium";v="140", "Not=A?Brand";v="24", "Brave";v="140"]
2025-09-11 11:15:54.591 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:15:54.591 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:15:54.592 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Sec-GPC: [1]
2025-09-11 11:15:54.592 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.8]
2025-09-11 11:15:54.592 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:15:54.592 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:15:54.593 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:15:54.593 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:15:54.593 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:15:54.593 [reactor-http-nio-5] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:15:54.603 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36", sec-ch-ua:""Chromium";v="140", "Not=A?Brand";v="24", "Brave";v="140"", sec-ch-ua-mobile:"?0", Accept:"*/*", Sec-GPC:"1", Accept-Language:"en-US,en;q=0.8", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64825"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:15:54.607 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@35ef4611', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.295E-4, duration(nanos)=329500.0, startTimeNanos=3448338771700}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@28bf0d24', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0247699, duration(nanos)=2.47699E7, startTimeNanos=3448314977400}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36", sec-ch-ua:""Chromium";v="140", "Not=A?Brand";v="24", "Brave";v="140"", sec-ch-ua-mobile:"?0", Accept:"*/*", Sec-GPC:"1", Accept-Language:"en-US,en;q=0.8", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64825"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:15:54.614 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:15:54.617 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:15:54.618 [reactor-http-nio-6] INFO  [26c0f6fe] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:15:54.617 | 26c0f6fe | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 30ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:15:54.618 [reactor-http-nio-6] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:15:54.618 [reactor-http-nio-6] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:15:54.618 [reactor-http-nio-6] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:15:54.619 [reactor-http-nio-6] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:15:54.619 [reactor-http-nio-6] DEBUG [26c0f6fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 26c0f6fe | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:15:54.620 [reactor-http-nio-6] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:15:54.620 | 26c0f6fe | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 33ms | onComplete
2025-09-11 11:16:57.872 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:16:57.873 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:16:57.873 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [2e52fad8-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:16:57.873 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:16:57.874 [reactor-http-nio-7] INFO  [3dd2a0be] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:16:57.874 | 3dd2a0be | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:16:57.874 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:16:57.875 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:16:57.881 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50694"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:16:57.882 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@243a42e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.622E-4, duration(nanos)=162200.0, startTimeNanos=3511614744600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@396d4bf6', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0106459, duration(nanos)=1.06459E7, startTimeNanos=3511604426800}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50694"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:16:57.886 [reactor-http-nio-8] ERROR [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:16:57.888 [reactor-http-nio-8] ERROR [c0b9094f] [0:0:0:0:0:0:0:1] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:16:57.888 [reactor-http-nio-8] INFO  [3dd2a0be] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:16:57.888 | 3dd2a0be | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 14ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:16:57.888 [reactor-http-nio-8] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:16:57.888 [reactor-http-nio-8] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:16:57.888 [reactor-http-nio-8] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:16:57.888 [reactor-http-nio-8] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:16:57.888 [reactor-http-nio-8] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3dd2a0be | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:16:57.889 [reactor-http-nio-8] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:16:57.889 | 3dd2a0be | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 15ms | onComplete
2025-09-11 11:17:15.173 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:17:15.174 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:17:15.174 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [c61301c9-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:17:15.174 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:17:15.175 [reactor-http-nio-9] INFO  [87b6d16d] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:17:15.175 | 87b6d16d | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | N/A | N/A | N/A | 15
2025-09-11 11:17:15.175 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:17:15.175 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:17:15.175 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:17:15.175 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:17:15.175 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Upgrade-Insecure-Requests: [1]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Accept: [text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [none]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [navigate]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Sec-Fetch-User: [?1]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [document]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:17:15.176 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:17:15.184 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", sec-ch-ua-platform:""Windows"", Upgrade-Insecure-Requests:"1", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7", Sec-Fetch-Site:"none", Sec-Fetch-Mode:"navigate", Sec-Fetch-User:"?1", Sec-Fetch-Dest:"document", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", Cookie:"SESSION=1c7e7a48-82bd-4b97-902e-fd1f8f135141; __next_hmr_refresh_hash__=100; i18next=sw", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64887"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:15.185 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@76fd5d04', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.775E-4, duration(nanos)=177500.0, startTimeNanos=3528917690200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@267ba8d2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0152288, duration(nanos)=1.52288E7, startTimeNanos=3528902812700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", sec-ch-ua-platform:""Windows"", Upgrade-Insecure-Requests:"1", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7", Sec-Fetch-Site:"none", Sec-Fetch-Mode:"navigate", Sec-Fetch-User:"?1", Sec-Fetch-Dest:"document", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", Cookie:"SESSION=1c7e7a48-82bd-4b97-902e-fd1f8f135141; __next_hmr_refresh_hash__=100; i18next=sw", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64887"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:15.188 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:17:15.190 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:17:15.191 [reactor-http-nio-11] INFO  [87b6d16d] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:17:15.191 | 87b6d16d | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 16ms | N/A | N/A | N/A | N/A | 2
2025-09-11 11:17:15.191 [reactor-http-nio-11] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:17:15.191 [reactor-http-nio-11] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 87b6d16d | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:17:15.193 [reactor-http-nio-11] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:17:15.193 | 87b6d16d | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 17ms | onComplete
2025-09-11 11:17:16.906 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.w.r.h.SimpleUrlHandlerMapping - [c61301c9-15] Mapped to ResourceWebHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/]]
2025-09-11 11:17:16.920 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.w.r.resource.ResourceWebHandler - [c61301c9-15] Resource not found
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [c61301c9-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [87b6d16d] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:17:25.606 [reactor-http-nio-9] INFO  [b68503dd] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:17:25.606 | b68503dd | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | N/A | N/A | N/A | 15
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:17:25.606 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Upgrade-Insecure-Requests: [1]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Accept: [text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [none]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [navigate]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Sec-Fetch-User: [?1]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [document]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:17:25.607 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:17:25.612 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", sec-ch-ua-platform:""Windows"", Upgrade-Insecure-Requests:"1", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7", Sec-Fetch-Site:"none", Sec-Fetch-Mode:"navigate", Sec-Fetch-User:"?1", Sec-Fetch-Dest:"document", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", Cookie:"SESSION=1c7e7a48-82bd-4b97-902e-fd1f8f135141; __next_hmr_refresh_hash__=100; i18next=sw", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64887"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:25.612 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@39861ae7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.349E-4, duration(nanos)=134900.0, startTimeNanos=3539345117200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6ae7c4da', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0076441, duration(nanos)=7644100.0, startTimeNanos=3539337744000}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", sec-ch-ua-platform:""Windows"", Upgrade-Insecure-Requests:"1", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7", Sec-Fetch-Site:"none", Sec-Fetch-Mode:"navigate", Sec-Fetch-User:"?1", Sec-Fetch-Dest:"document", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", Cookie:"SESSION=1c7e7a48-82bd-4b97-902e-fd1f8f135141; __next_hmr_refresh_hash__=100; i18next=sw", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64887"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:25.615 [reactor-http-nio-12] ERROR [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 11:17:25.617 [reactor-http-nio-12] ERROR [573f381c] [0:0:0:0:0:0:0:1] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:17:25.617 [reactor-http-nio-12] INFO  [b68503dd] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:17:25.617 | b68503dd | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 11ms | N/A | N/A | N/A | N/A | 2
2025-09-11 11:17:25.617 [reactor-http-nio-12] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:17:25.617 [reactor-http-nio-12] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b68503dd | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:17:25.618 [reactor-http-nio-12] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:17:25.618 | b68503dd | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 12ms | onComplete
2025-09-11 11:17:25.720 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] o.s.w.r.h.SimpleUrlHandlerMapping - [c61301c9-17] Mapped to ResourceWebHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/]]
2025-09-11 11:17:25.722 [reactor-http-nio-9] DEBUG [b68503dd] [0:0:0:0:0:0:0:1] o.s.w.r.resource.ResourceWebHandler - [c61301c9-17] Resource not found
2025-09-11 11:17:40.122 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:17:40.123 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:17:40.123 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [2e52fad8-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:17:40.127 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:17:40.127 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost-auth:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:17:40.127 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [2e52fad8-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65e05005
2025-09-11 11:17:40.129 [reactor-http-nio-7] DEBUG [3dd2a0be] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@43756cb}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@1d9af731}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@218f2f51}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6d9428f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ede035e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@70ecf57b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1a336906}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4272d8cf}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@62054faf}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@39afe59f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4e5364a3}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@36e3321e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@16f34376}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e96cb04}, order = 2147483647]]
2025-09-11 11:17:40.130 [reactor-http-nio-7] INFO  [3ca9942e] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:17:40.130 | 3ca9942e | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Content-Length: [64]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:17:40.130 [reactor-http-nio-7] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:17:40.134 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50694"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:40.135 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost-auth:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@da8bad8', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.353E-4, duration(nanos)=135300.0, startTimeNanos=3553868642900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@470d8a8', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0084135, duration(nanos)=8413500.0, startTimeNanos=3553860444300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50694"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:17:40.149 [reactor-http-nio-3] ERROR [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Failed to resolve 'localhost-auth' [A(1)]
java.net.UnknownHostException: Failed to resolve 'localhost-auth' [A(1)]
	at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1150)
	at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1097)
	at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:455)
	at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:662)
	at io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:70)
	at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:513)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:308)
	at io.netty.resolver.dns.DnsQueryContext.finishSuccess(DnsQueryContext.java:299)
	at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1491)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:107)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
	at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.netty.resolver.dns.DnsErrorCauseException: Query failed with SERVFAIL
	at io.netty.resolver.dns.DnsResolveContext.onResponse(..)(Unknown Source)
2025-09-11 11:17:40.150 [reactor-http-nio-3] ERROR [2954f101] [0:0:0:0:0:0:0:1] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:17:40.150 [reactor-http-nio-3] INFO  [3ca9942e] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:17:40.150 | 3ca9942e | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 21ms | N/A | N/A | N/A | N/A | 5
2025-09-11 11:17:40.150 [reactor-http-nio-3] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:17:40.150 [reactor-http-nio-3] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:17:40.150 [reactor-http-nio-3] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:17:40.150 [reactor-http-nio-3] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:17:40.150 [reactor-http-nio-3] DEBUG [3ca9942e] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3ca9942e | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:17:40.152 [reactor-http-nio-3] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:17:40.152 | 3ca9942e | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 23ms | onComplete
2025-09-11 11:18:41.363 [SpringApplicationShutdownHook] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-11 11:18:41.365 [netty-shutdown] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-09-11 11:18:52.941 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Starting AfristaysApiGatewayApplication using Java 21.0.5 with PID 20448 (C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway\target\classes started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 11:18:52.945 [main] DEBUG [] [] c.a.a.AfristaysApiGatewayApplication - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 11:18:52.946 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-11 11:18:54.525 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 11:18:54.528 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 11:18:54.561 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-09-11 11:18:54.791 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=2f1d2cd6-abb3-3c22-870d-48bf921bbc81
2025-09-11 11:18:55.603 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 11:18:56.094 [main] DEBUG [] [] o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='test-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/test/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=1}}], uri=https://httpbin.org, order=0, metadata={}, enabled=true}]
2025-09-11 11:18:56.294 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-09-11 11:18:56.294 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-09-11 11:18:56.294 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-09-11 11:18:56.294 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-09-11 11:18:56.294 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-09-11 11:18:56.295 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-09-11 11:18:56.296 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-09-11 11:18:56.296 [main] INFO  [] [] o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-09-11 11:18:56.401 [main] DEBUG [] [] o.s.w.r.r.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2025-09-11 11:18:56.417 [main] DEBUG [] [] o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-11 11:18:56.658 [main] INFO  [] [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-11 11:18:56.713 [main] DEBUG [] [] o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2025-09-11 11:18:57.152 [main] INFO  [] [] o.s.b.w.e.netty.NettyWebServer - Netty started on port 31304 (http)
2025-09-11 11:18:57.218 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying {_genkey_0=/test/**} to Path
2025-09-11 11:18:57.234 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition test-route applying filter {_genkey_0=1} to StripPrefix
2025-09-11 11:18:57.244 [main] DEBUG [] [] o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: test-route
2025-09-11 11:18:57.250 [main] DEBUG [] [] o.s.c.g.filter.GatewayMetricsFilter - New routes count: 1
2025-09-11 11:18:57.252 [main] INFO  [] [] c.a.a.AfristaysApiGatewayApplication - Started AfristaysApiGatewayApplication in 5.431 seconds (process running for 7.358)
2025-09-11 11:18:57.256 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Initializing security components...
2025-09-11 11:18:57.256 [main] INFO  [] [] c.a.a.service.IpBlacklistService - Initialized IP lists - Blacklisted: 0, Whitelisted: 2
2025-09-11 11:18:57.257 [main] INFO  [] [] c.a.a.config.SecurityInitializer - Security components initialized successfully
2025-09-11 11:19:19.816 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:19:19.822 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:19.823 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [8d13d1d4-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:19.885 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:19:19.886 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:19.886 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [8d13d1d4-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:19.891 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:19:19.900 [reactor-http-nio-2] INFO  [d1943a96] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:19:19.900 | d1943a96 | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:19:19.904 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:19:19.904 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:19:19.905 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Content-Length: [64]
2025-09-11 11:19:19.905 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:19.905 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:19:19.905 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:19:19.905 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:19:19.906 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:19:19.906 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:19.906 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:19:19.906 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:19:19.906 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:19:19.907 [reactor-http-nio-2] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:19:20.661 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61731"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:20.671 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@13b2456a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.001632, duration(nanos)=1632000.0, startTimeNanos=3654403424200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2506f533', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7899474, duration(nanos)=7.899474E8, startTimeNanos=3653615331600}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"64", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:61731"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:21.862 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:19:21.863 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@13b2456a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.1933134, duration(nanos)=1.1933134E9, startTimeNanos=3654403424200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2506f533', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.9815328, duration(nanos)=1.9815328E9, startTimeNanos=3653615331600}'], parentObservation=null}}
2025-09-11 11:19:21.881 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:19:21.881 [reactor-http-nio-4] INFO  [d1943a96] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:19:21.881 | d1943a96 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 500 | Internal Server Error | 1981ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:19:21.883 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:19:21.883 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:21.884 [reactor-http-nio-4] DEBUG [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d1943a96 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:19:21 GMT]
2025-09-11 11:19:21.884 [reactor-http-nio-4] WARN  [d1943a96] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | d1943a96 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 500 | Internal Server Error | 1981ms
2025-09-11 11:19:21.895 [reactor-http-nio-2] INFO  [d1943a96] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:19:21.895 | d1943a96 | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 1994ms | onComplete
2025-09-11 11:19:21.896 [reactor-http-nio-2] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:19:21.8965738 | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 500
2025-09-11 11:19:51.689 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:19:51.689 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:51.689 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1c21b4a6-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:51.698 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 11:19:51.698 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:51.698 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1c21b4a6-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:51.699 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:19:51.700 [reactor-http-nio-5] INFO  [57353190] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:19:51.700 | 57353190 | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 11:19:51.700 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:19:51.700 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:19:51.700 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Content-Length: [63]
2025-09-11 11:19:51.700 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:51.701 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:19:51.701 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:19:51.701 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:19:51.701 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:19:51.701 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:19:51.702 [reactor-http-nio-5] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:19:51.707 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52500"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:51.709 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7146213b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=2.568E-4, duration(nanos)=256800.0, startTimeNanos=3685441375200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4bda4c68', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0118972, duration(nanos)=1.18972E7, startTimeNanos=3685429883700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52500"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:52.104 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:19:52.104 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7146213b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.3957636, duration(nanos)=3.957636E8, startTimeNanos=3685441375200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4bda4c68', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.4073485, duration(nanos)=4.073485E8, startTimeNanos=3685429883700}'], parentObservation=null}}
2025-09-11 11:19:52.105 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:19:52.105 [reactor-http-nio-6] INFO  [57353190] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:19:52.105 | 57353190 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 405ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:19:52.105 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:52.106 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:19:52.106 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:19:52.106 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:52.106 [reactor-http-nio-6] DEBUG [57353190] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 57353190 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:19:52 GMT]
2025-09-11 11:19:52.109 [reactor-http-nio-5] INFO  [57353190] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:19:52.109 | 57353190 | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 409ms | onComplete
2025-09-11 11:19:52.218 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:19:52.218 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:52.218 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1c21b4a6-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:52.223 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:19:52.224 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:52.224 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1c21b4a6-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:52.226 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:19:52.226 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:52.226 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [49b4e09c-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:52.228 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:19:52.228 [reactor-http-nio-7] INFO  [ea12533a] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:19:52.228 | ea12533a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 11:19:52.228 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:19:52.229 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:19:52.229 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:52.229 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1c21b4a6-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:19:52.229 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:19:52.230 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:19:52.230 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:19:52.230 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:19:52.230 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:19:52.230 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:19:52.230 [reactor-http-nio-7] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:19:52.230 [reactor-http-nio-5] INFO  [490920c2] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:19:52.230 | 490920c2 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 11:19:52.230 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:19:52.230 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:19:52.230 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:19:52.231 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:19:52.232 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:19:52.232 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:19:52.232 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:19:52.233 [reactor-http-nio-5] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:19:52.235 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52880"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:52.236 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@36aaf6a3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.68E-4, duration(nanos)=168000.0, startTimeNanos=3685968412400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4d76cd61', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0102698, duration(nanos)=1.02698E7, startTimeNanos=3685958435700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52880"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:52.241 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52500"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:52.242 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@d79620d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.88E-4, duration(nanos)=388000.0, startTimeNanos=3685975093000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@14d9c6c6', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0138259, duration(nanos)=1.38259E7, startTimeNanos=3685961814200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52500"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:19:54.169 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:19:54.169 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:19:54.170 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@36aaf6a3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.9348769, duration(nanos)=1.9348769E9, startTimeNanos=3685968412400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4d76cd61', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.945056, duration(nanos)=1.945056E9, startTimeNanos=3685958435700}'], parentObservation=null}}
2025-09-11 11:19:54.170 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@d79620d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.9282588, duration(nanos)=1.9282588E9, startTimeNanos=3685975093000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@14d9c6c6', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.941735, duration(nanos)=1.941735E9, startTimeNanos=3685961814200}'], parentObservation=null}}
2025-09-11 11:19:54.171 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:19:54.171 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:19:54.172 [reactor-http-nio-8] INFO  [ea12533a] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:19:54.172 | ea12533a | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 1944ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:19:54.172 [reactor-http-nio-9] INFO  [490920c2] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:19:54.172 | 490920c2 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 1942ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:19:54.173 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:19:54.173 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:19:54.173 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:19:54.173 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:19:54.173 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:19:54.173 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:19:54.173 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:19:54.174 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:19:54.174 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:19:54.174 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:19:54.174 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:19:54.174 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:19:54.174 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:19:54.174 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:19:54.174 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:19:54.175 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:19:54.175 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:54.175 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:19:54.175 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:19:54.176 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:19:54.176 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:19:54.176 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:54.176 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:19:54.176 [reactor-http-nio-9] DEBUG [490920c2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 490920c2 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:19:54 GMT]
2025-09-11 11:19:54.176 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:19:54.176 [reactor-http-nio-8] DEBUG [ea12533a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ea12533a | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:19:54 GMT]
2025-09-11 11:19:54.199 [reactor-http-nio-5] INFO  [490920c2] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:19:54.199 | 490920c2 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 1969ms | onComplete
2025-09-11 11:19:54.199 [reactor-http-nio-7] INFO  [ea12533a] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:19:54.199 | ea12533a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 1971ms | onComplete
2025-09-11 11:21:33.648 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:21:33.649 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:21:33.649 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [29d4ceb7-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:21:33.649 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:21:33.649 [reactor-http-nio-10] INFO  [703855e4] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:21:33.649 | 703855e4 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryoDEEBINOcg16OlHi | N/A | 18
2025-09-11 11:21:33.649 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:21:33.649 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryoDEEBINOcg16OlHi]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:21:33.650 [reactor-http-nio-10] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:21:33.654 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryoDEEBINOcg16OlHi", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52872"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:21:33.655 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75a72510', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.85E-5, duration(nanos)=88500.0, startTimeNanos=3787387919500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@ec1e300', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0067181, duration(nanos)=6718100.0, startTimeNanos=3787381366200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryoDEEBINOcg16OlHi", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52872"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:21:34.633 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:21:34.634 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75a72510', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.9793866, duration(nanos)=9.793866E8, startTimeNanos=3787387919500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@ec1e300', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.9861581, duration(nanos)=9.861581E8, startTimeNanos=3787381366200}'], parentObservation=null}}
2025-09-11 11:21:34.636 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:21:34.636 [reactor-http-nio-11] INFO  [703855e4] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:21:34.636 | 703855e4 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 987ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:21:34.637 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:21:34.638 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:21:34.640 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:21:34.640 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:21:34.641 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:21:34.641 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:21:34.641 [reactor-http-nio-11] DEBUG [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 703855e4 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:21:34 GMT]
2025-09-11 11:21:34.641 [reactor-http-nio-11] WARN  [703855e4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 703855e4 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 987ms
2025-09-11 11:21:34.666 [reactor-http-nio-10] INFO  [703855e4] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:21:34.666 | 703855e4 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 1017ms | onComplete
2025-09-11 11:21:34.667 [reactor-http-nio-10] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:21:34.6671456 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 500
2025-09-11 11:24:27.934 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:24:27.935 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:24:27.935 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [69e1eddd-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:24:27.937 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:24:27.938 [reactor-http-nio-12] INFO  [d4626209] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:24:27.937 | d4626209 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundary0TFoxtP0yGKbR4H7 | N/A | 18
2025-09-11 11:24:27.938 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:24:27.938 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:24:27.939 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundary0TFoxtP0yGKbR4H7]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:24:27.940 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:24:27.941 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:24:27.941 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:24:27.941 [reactor-http-nio-12] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:24:27.951 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary0TFoxtP0yGKbR4H7", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:65115"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:24:27.954 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5e18a90c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.692E-4, duration(nanos)=369200.0, startTimeNanos=3961685648900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5f40982c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0201175, duration(nanos)=2.01175E7, startTimeNanos=3961666321700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary0TFoxtP0yGKbR4H7", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:65115"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:24:29.831 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:24:29.831 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5e18a90c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.8796979, duration(nanos)=1.8796979E9, startTimeNanos=3961685648900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5f40982c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.8992871, duration(nanos)=1.8992871E9, startTimeNanos=3961666321700}'], parentObservation=null}}
2025-09-11 11:24:29.834 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:24:29.834 [reactor-http-nio-1] INFO  [d4626209] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:24:29.834 | d4626209 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 1897ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:24:29.835 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:24:29.835 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:24:29.835 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:24:29.835 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:24:29.836 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:24:29.837 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:24:29.837 [reactor-http-nio-1] DEBUG [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d4626209 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:24:29 GMT]
2025-09-11 11:24:29.837 [reactor-http-nio-1] WARN  [d4626209] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | d4626209 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 1897ms
2025-09-11 11:24:29.893 [reactor-http-nio-12] INFO  [d4626209] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:24:29.893 | d4626209 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 1956ms | onComplete
2025-09-11 11:24:29.894 [reactor-http-nio-12] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:24:29.8934774 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 500
2025-09-11 11:26:38.027 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:26:38.027 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:26:38.027 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [33a91341-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:26:38.028 [reactor-http-nio-2] INFO  [73bb6479] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:26:38.028 | 73bb6479 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryANTdjiJZAH3dX9S5 | N/A | 18
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:26:38.028 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryANTdjiJZAH3dX9S5]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:26:38.029 [reactor-http-nio-2] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:26:38.034 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryANTdjiJZAH3dX9S5", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:26:38.035 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@639c8a72', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.729E-4, duration(nanos)=172900.0, startTimeNanos=4091768138000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d0653f2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0086717, duration(nanos)=8671700.0, startTimeNanos=4091759806500}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryANTdjiJZAH3dX9S5", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@639c8a72', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=10.7184295, duration(nanos)=1.07184295E10, startTimeNanos=4091768138000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d0653f2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=10.7268017, duration(nanos)=1.07268017E10, startTimeNanos=4091759806500}'], parentObservation=null}}
2025-09-11 11:26:48.753 [reactor-http-nio-3] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:26:48.753 [reactor-http-nio-3] INFO  [73bb6479] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:26:48.753 | 73bb6479 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 10725ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:26:48.753 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:26:48.754 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:26:48.754 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:26:48.754 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:26:48.754 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:26:48.754 [reactor-http-nio-3] DEBUG [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 73bb6479 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:26:48 GMT]
2025-09-11 11:26:48.754 [reactor-http-nio-3] WARN  [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 73bb6479 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 10725ms
2025-09-11 11:26:48.754 [reactor-http-nio-3] WARN  [73bb6479] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | 73bb6479 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | 10725ms
2025-09-11 11:26:48.759 [reactor-http-nio-2] INFO  [73bb6479] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:26:48.759 | 73bb6479 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 10731ms | onComplete
2025-09-11 11:26:48.759 [reactor-http-nio-2] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:26:48.7596087 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 500
2025-09-11 11:28:09.562 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:28:09.562 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:28:09.562 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [33a91341-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:28:09.563 [reactor-http-nio-2] INFO  [3a310342] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:28:09.563 | 3a310342 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryA4heen1L8vasUKY6 | N/A | 18
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:28:09.563 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryA4heen1L8vasUKY6]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:28:09.564 [reactor-http-nio-2] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:28:09.567 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryA4heen1L8vasUKY6", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:28:09.568 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@36cdcf97', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.10099E-4, duration(nanos)=110099.0, startTimeNanos=4183300845600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6d97a09a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.006539501, duration(nanos)=6539501.0, startTimeNanos=4183294655599}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryA4heen1L8vasUKY6", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:28:25.540 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:28:25.540 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@36cdcf97', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=15.972472399, duration(nanos)=1.5972472399E10, startTimeNanos=4183300845600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6d97a09a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=15.978705801, duration(nanos)=1.5978705801E10, startTimeNanos=4183294655599}'], parentObservation=null}}
2025-09-11 11:28:25.540 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:28:25.541 [reactor-http-nio-4] INFO  [3a310342] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:28:25.540 | 3a310342 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 15977ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:28:25.541 [reactor-http-nio-4] DEBUG [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3a310342 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:28:25 GMT]
2025-09-11 11:28:25.541 [reactor-http-nio-4] WARN  [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 3a310342 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 15977ms
2025-09-11 11:28:25.541 [reactor-http-nio-4] WARN  [3a310342] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | 3a310342 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | 15977ms
2025-09-11 11:28:25.549 [reactor-http-nio-2] INFO  [3a310342] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:28:25.549 | 3a310342 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 15986ms | onComplete
2025-09-11 11:28:25.549 [reactor-http-nio-2] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:28:25.5498763 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 500
2025-09-11 11:29:15.090 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:29:15.090 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:29:15.090 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [33a91341-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:29:15.091 [reactor-http-nio-2] INFO  [7b9b1cb5] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:29:15.091 | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundary3kJApD7RqMWrP7sH | N/A | 18
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundary3kJApD7RqMWrP7sH]
2025-09-11 11:29:15.091 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:29:15.093 [reactor-http-nio-2] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:29:15.098 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary3kJApD7RqMWrP7sH", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:29:15.099 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6adf7840', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.24801E-4, duration(nanos)=124801.0, startTimeNanos=4248831808199}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75593f2a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0092109, duration(nanos)=9210900.0, startTimeNanos=4248822885700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary3kJApD7RqMWrP7sH", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:64926"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:29:35.176 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:29:35.176 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6adf7840', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=20.078473501, duration(nanos)=2.0078473501E10, startTimeNanos=4248831808199}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75593f2a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=20.0874337, duration(nanos)=2.00874337E10, startTimeNanos=4248822885700}'], parentObservation=null}}
2025-09-11 11:29:35.177 [reactor-http-nio-5] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:29:35.177 [reactor-http-nio-5] INFO  [7b9b1cb5] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:29:35.177 | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 20086ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:29:35.177 [reactor-http-nio-5] DEBUG [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:29:35 GMT]
2025-09-11 11:29:35.177 [reactor-http-nio-5] WARN  [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | Internal Server Error | 20086ms
2025-09-11 11:29:35.177 [reactor-http-nio-5] WARN  [7b9b1cb5] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 500 | 20086ms
2025-09-11 11:29:35.184 [reactor-http-nio-2] INFO  [7b9b1cb5] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:29:35.184 | 7b9b1cb5 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 20093ms | onComplete
2025-09-11 11:29:35.184 [reactor-http-nio-2] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T11:29:35.1842463 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 500
2025-09-11 11:35:42.657 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 11:35:42.658 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 11:35:42.658 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [cd963987-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 11:35:42.658 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 11:35:42.658 [reactor-http-nio-6] INFO  [759146fe] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 11:35:42.658 | 759146fe | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryVSl08Wd8UeAI4ets | N/A | 18
2025-09-11 11:35:42.658 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 11:35:42.658 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Content-Length: [1739407]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryVSl08Wd8UeAI4ets]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 11:35:42.659 [reactor-http-nio-6] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 11:35:42.665 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryVSl08Wd8UeAI4ets", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63348"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:35:42.665 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d30e761', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.32E-5, duration(nanos)=93200.0, startTimeNanos=4636398428600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7d73012d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0081481, duration(nanos)=8148100.0, startTimeNanos=4636390446600}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1739407", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryVSl08Wd8UeAI4ets", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63348"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 11:35:55.313 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 11:35:55.313 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d30e761', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=12.647719, duration(nanos)=1.2647719E10, startTimeNanos=4636398428600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7d73012d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=12.6557695, duration(nanos)=1.26557695E10, startTimeNanos=4636390446600}'], parentObservation=null}}
2025-09-11 11:35:55.314 [reactor-http-nio-7] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 11:35:55.314 [reactor-http-nio-7] INFO  [759146fe] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 11:35:55.314 | 759146fe | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 12656ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 11:35:55.314 [reactor-http-nio-7] DEBUG [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 759146fe | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 08:35:55 GMT]
2025-09-11 11:35:55.314 [reactor-http-nio-7] WARN  [759146fe] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | 759146fe | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | 12656ms
2025-09-11 11:35:55.322 [reactor-http-nio-6] INFO  [759146fe] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 11:35:55.322 | 759146fe | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 12664ms | onComplete
2025-09-11 12:14:54.776 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 12:14:54.779 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 12:14:54.779 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [f4e30b7d-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 12:14:54.788 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 12:14:54.788 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 12:14:54.789 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [f4e30b7d-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 12:14:54.790 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 12:14:54.792 [reactor-http-nio-8] INFO  [549465af] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 12:14:54.792 | 549465af | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Content-Length: [175]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 12:14:54.793 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 12:14:54.794 [reactor-http-nio-8] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 12:14:54.822 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57495"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 12:14:54.826 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6c7f7bbb', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0016908, duration(nanos)=1690800.0, startTimeNanos=6988557017300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@50e3a971', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0385599, duration(nanos)=3.85599E7, startTimeNanos=6988520345100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57495"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 12:14:55.282 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 12:14:55.282 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6c7f7bbb', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.4581528, duration(nanos)=4.581528E8, startTimeNanos=6988557017300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@50e3a971', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.4948637, duration(nanos)=4.948637E8, startTimeNanos=6988520345100}'], parentObservation=null}}
2025-09-11 12:14:55.283 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 12:14:55.283 [reactor-http-nio-9] INFO  [549465af] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 12:14:55.283 | 549465af | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 491ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 12:14:55.283 [reactor-http-nio-9] DEBUG [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 549465af | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 09:14:55 GMT]
2025-09-11 12:14:55.283 [reactor-http-nio-9] WARN  [549465af] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 549465af | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 491ms
2025-09-11 12:14:55.286 [reactor-http-nio-8] INFO  [549465af] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 12:14:55.286 | 549465af | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 494ms | onComplete
2025-09-11 12:14:55.287 [reactor-http-nio-8] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T12:14:55.287776 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 500
2025-09-11 13:23:21.291 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 13:23:21.296 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:21.296 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [bf70df9e-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:21.311 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 13:23:21.312 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:21.312 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [bf70df9e-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:21.313 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 13:23:21.314 [reactor-http-nio-10] INFO  [40ae2dac] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 13:23:21.314 | 40ae2dac | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Content-Length: [63]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 13:23:21.315 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:21.316 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 13:23:21.317 [reactor-http-nio-10] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 13:23:21.358 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63470"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:21.360 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7a4257e3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.808E-4, duration(nanos)=780800.0, startTimeNanos=11095091689000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1f5d4bef', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.049153, duration(nanos)=4.9153E7, startTimeNanos=11095043894800}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63470"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:22.404 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 13:23:22.407 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7a4257e3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.0477403, duration(nanos)=1.0477403E9, startTimeNanos=11095091689000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1f5d4bef', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.0957898, duration(nanos)=1.0957898E9, startTimeNanos=11095043894800}'], parentObservation=null}}
2025-09-11 13:23:22.412 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 13:23:22.413 [reactor-http-nio-11] INFO  [40ae2dac] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 13:23:22.413 | 40ae2dac | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 1098ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 13:23:22.414 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 13:23:22.414 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 13:23:22.414 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 13:23:22.414 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 13:23:22.414 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 13:23:22.415 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 13:23:22.416 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 13:23:22.416 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 13:23:22.416 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:22.416 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 13:23:22.416 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 13:23:22.417 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:22.417 [reactor-http-nio-11] DEBUG [40ae2dac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 40ae2dac | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 10:23:22 GMT]
2025-09-11 13:23:22.426 [reactor-http-nio-10] INFO  [40ae2dac] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 13:23:22.425 | 40ae2dac | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 1111ms | onComplete
2025-09-11 13:23:22.549 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:23:22.549 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:22.549 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [bf70df9e-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:22.554 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:23:22.554 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:22.555 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [bf70df9e-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:22.566 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:23:22.566 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:22.568 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [e28f1ef8-21] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:22.568 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 13:23:22.570 [reactor-http-nio-12] INFO  [1e86c785] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 13:23:22.570 | 1e86c785 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 13:23:22.570 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 13:23:22.571 [reactor-http-nio-12] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 13:23:22.574 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:23:22.574 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:23:22.575 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [bf70df9e-22] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:23:22.575 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51615"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 13:23:22.576 [reactor-http-nio-10] INFO  [5a2baf68] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 13:23:22.576 | 5a2baf68 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 13:23:22.576 [reactor-http-nio-10] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 13:23:22.577 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@8e8491c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.343E-4, duration(nanos)=634300.0, startTimeNanos=11096309379000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@458dc151', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0185052, duration(nanos)=1.85052E7, startTimeNanos=11096291619600}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51615"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:22.584 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63470"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:22.586 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d186b4c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.194E-4, duration(nanos)=119400.0, startTimeNanos=11096318719000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@58ef4f33', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0265204, duration(nanos)=2.65204E7, startTimeNanos=11096292411500}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:63470"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:23:23.334 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 13:23:23.333 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 13:23:23.334 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2d186b4c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7497809, duration(nanos)=7.497809E8, startTimeNanos=11096318719000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@58ef4f33', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7762382, duration(nanos)=7.762382E8, startTimeNanos=11096292411500}'], parentObservation=null}}
2025-09-11 13:23:23.336 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@8e8491c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7588566, duration(nanos)=7.588566E8, startTimeNanos=11096309379000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@458dc151', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7774849, duration(nanos)=7.774849E8, startTimeNanos=11096291619600}'], parentObservation=null}}
2025-09-11 13:23:23.336 [reactor-http-nio-2] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 13:23:23.337 [reactor-http-nio-2] INFO  [5a2baf68] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 13:23:23.336 | 5a2baf68 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 760ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 15
2025-09-11 13:23:23.337 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 13:23:23.337 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:23:23.337 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Content-Encoding: [gzip]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:23.338 [reactor-http-nio-2] DEBUG [5a2baf68] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5a2baf68 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 10:23:23 GMT]
2025-09-11 13:23:23.350 [reactor-http-nio-10] INFO  [5a2baf68] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 13:23:23.350 | 5a2baf68 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 774ms | onComplete
2025-09-11 13:23:23.358 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 13:23:23.358 [reactor-http-nio-1] INFO  [1e86c785] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 13:23:23.358 | 1e86c785 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 788ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 15
2025-09-11 13:23:23.358 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 13:23:23.358 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:23:23.359 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 13:23:23.359 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 13:23:23.359 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 13:23:23.359 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 13:23:23.359 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Content-Encoding: [gzip]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:23:23.360 [reactor-http-nio-1] DEBUG [1e86c785] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 1e86c785 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 10:23:23 GMT]
2025-09-11 13:23:23.364 [reactor-http-nio-12] INFO  [1e86c785] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 13:23:23.364 | 1e86c785 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 794ms | onComplete
2025-09-11 13:24:53.624 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:24:53.625 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:24:53.625 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [803adba4-23] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:24:53.635 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 13:24:53.655 [reactor-http-nio-3] INFO  [ab718e25] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 13:24:53.655 | ab718e25 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryqKXWBEXRqqk4MQJK | N/A | 18
2025-09-11 13:24:53.655 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Content-Length: [180963]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 13:24:53.656 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 13:24:53.657 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 13:24:53.658 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryqKXWBEXRqqk4MQJK]
2025-09-11 13:24:53.683 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 13:24:53.683 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 13:24:53.684 [reactor-http-nio-3] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 13:24:53.760 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"180963", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryqKXWBEXRqqk4MQJK", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57555"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:24:53.816 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@12054d9b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0284049, duration(nanos)=2.84049E7, startTimeNanos=11187494149000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@392981c3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.1769134, duration(nanos)=1.769134E8, startTimeNanos=11187345813200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"180963", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryqKXWBEXRqqk4MQJK", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57555"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:25:04.269 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 13:25:04.270 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@12054d9b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=10.509241, duration(nanos)=1.0509241E10, startTimeNanos=11187494149000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@392981c3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=10.6577411, duration(nanos)=1.06577411E10, startTimeNanos=11187345813200}'], parentObservation=null}}
2025-09-11 13:25:04.273 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 13:25:04.274 [reactor-http-nio-4] INFO  [ab718e25] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 13:25:04.273 | ab718e25 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 10618ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 15
2025-09-11 13:25:04.274 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 13:25:04.274 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:25:04.274 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 13:25:04.274 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 13:25:04.274 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 13:25:04.275 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 13:25:04.276 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, accept-encoding]
2025-09-11 13:25:04.276 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Content-Encoding: [gzip]
2025-09-11 13:25:04.276 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:25:04.276 [reactor-http-nio-4] DEBUG [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | ab718e25 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 10:25:04 GMT]
2025-09-11 13:25:04.276 [reactor-http-nio-4] WARN  [ab718e25] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | ab718e25 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | 10618ms
2025-09-11 13:25:04.298 [reactor-http-nio-3] INFO  [ab718e25] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 13:25:04.298 | ab718e25 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 10643ms | onComplete
2025-09-11 13:28:28.741 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 13:28:28.741 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 13:28:28.741 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [b95b9f77-24] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 13:28:28.742 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 13:28:28.743 [reactor-http-nio-5] INFO  [d6b45531] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 13:28:28.743 | d6b45531 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryqLWErzdAdZ9iNEiz | N/A | 18
2025-09-11 13:28:28.743 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 13:28:28.743 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 13:28:28.743 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Content-Length: [75847]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryqLWErzdAdZ9iNEiz]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 13:28:28.744 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 13:28:28.745 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 13:28:28.745 [reactor-http-nio-5] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 13:28:28.752 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryqLWErzdAdZ9iNEiz", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:54380"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:28:28.754 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5705dfa1', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.242E-4, duration(nanos)=124200.0, startTimeNanos=11402486802900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75b184a5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.015404, duration(nanos)=1.5404E7, startTimeNanos=11402471624900}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryqLWErzdAdZ9iNEiz", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:54380"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 13:28:38.396 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 13:28:38.400 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5705dfa1', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.6456073, duration(nanos)=9.6456073E9, startTimeNanos=11402486802900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@75b184a5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.661453, duration(nanos)=9.661453E9, startTimeNanos=11402471624900}'], parentObservation=null}}
2025-09-11 13:28:38.405 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 13:28:38.406 [reactor-http-nio-6] INFO  [d6b45531] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 13:28:38.406 | d6b45531 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 9663ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 13:28:38.406 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 13:28:38.406 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 13:28:38.407 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 13:28:38.449 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 13:28:38.449 [reactor-http-nio-6] DEBUG [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | d6b45531 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 10:28:38 GMT]
2025-09-11 13:28:38.449 [reactor-http-nio-6] WARN  [d6b45531] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | d6b45531 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | 9663ms
2025-09-11 13:28:38.506 [reactor-http-nio-5] INFO  [d6b45531] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 13:28:38.506 | d6b45531 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 9763ms | onComplete
2025-09-11 14:14:39.498 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:14:39.503 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:14:39.503 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [37d23191-25] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:14:39.507 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:14:39.511 [reactor-http-nio-7] INFO  [9b0a66ac] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:14:39.511 | 9b0a66ac | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundary7C6dzOsnIeaicdYx | N/A | 18
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Content-Length: [75847]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundary7C6dzOsnIeaicdYx]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:14:39.512 [reactor-http-nio-7] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:14:39.544 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary7C6dzOsnIeaicdYx", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60083"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:14:39.546 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4de0661d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.425E-4, duration(nanos)=542500.0, startTimeNanos=14173278482300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3832c1fb', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0580384, duration(nanos)=5.80384E7, startTimeNanos=14173221291300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary7C6dzOsnIeaicdYx", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60083"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:14:42.377 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:14:42.378 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4de0661d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=2.8324902, duration(nanos)=2.8324902E9, startTimeNanos=14173278482300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3832c1fb', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=2.8899559, duration(nanos)=2.8899559E9, startTimeNanos=14173221291300}'], parentObservation=null}}
2025-09-11 14:14:42.382 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:14:42.384 [reactor-http-nio-8] INFO  [9b0a66ac] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:14:42.384 | 9b0a66ac | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 2871ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:14:42.384 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:14:42.385 [reactor-http-nio-8] DEBUG [9b0a66ac] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9b0a66ac | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:14:42 GMT]
2025-09-11 14:14:42.408 [reactor-http-nio-7] INFO  [9b0a66ac] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:14:42.408 | 9b0a66ac | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 2897ms | onComplete
2025-09-11 14:17:39.350 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:17:39.350 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:17:39.350 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [0aa90d1e-26] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:17:39.350 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:17:39.350 [reactor-http-nio-9] INFO  [8f11b9d2] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:17:39.350 | 8f11b9d2 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundary5YaVzF5TiTnOzb7Z | N/A | 18
2025-09-11 14:17:39.350 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Content-Length: [75847]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundary5YaVzF5TiTnOzb7Z]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:17:39.351 [reactor-http-nio-9] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:17:39.355 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary5YaVzF5TiTnOzb7Z", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56528"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:17:39.356 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4133e98b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.312E-4, duration(nanos)=131200.0, startTimeNanos=14353088616600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@38dec9a4', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0064534, duration(nanos)=6453400.0, startTimeNanos=14353082400200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"75847", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundary5YaVzF5TiTnOzb7Z", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56528"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:17:40.660 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4133e98b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.3054444, duration(nanos)=1.3054444E9, startTimeNanos=14353088616600}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@38dec9a4', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.3117086, duration(nanos)=1.3117086E9, startTimeNanos=14353082400200}'], parentObservation=null}}
2025-09-11 14:17:40.661 [reactor-http-nio-10] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:17:40.661 [reactor-http-nio-10] INFO  [8f11b9d2] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:17:40.661 | 8f11b9d2 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 1311ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:17:40.661 [reactor-http-nio-10] DEBUG [8f11b9d2] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 8f11b9d2 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:17:40 GMT]
2025-09-11 14:17:40.663 [reactor-http-nio-9] INFO  [8f11b9d2] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:17:40.663 | 8f11b9d2 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 1313ms | onComplete
2025-09-11 14:18:23.306 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:18:23.307 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:18:23.307 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [a3438082-27] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:18:23.309 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:18:23.309 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:18:23.309 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [6695eece-28] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:18:23.312 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:18:23.312 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:18:23.312 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [a3438082-29] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:18:23.313 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:18:23.314 [reactor-http-nio-11] INFO  [7324f7d4] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:18:23.314 | 7324f7d4 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Content-Length: [175]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:18:23.314 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:18:23.314 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/refresh] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:18:23.315 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [6695eece-30] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:18:23.314 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:18:23.315 [reactor-http-nio-11] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:18:23.316 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:18:23.317 [reactor-http-nio-12] INFO  [3d89fc62] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:18:23.317 | 3d89fc62 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 14:18:23.317 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:18:23.317 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Content-Length: [175]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:18:23.318 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:18:23.319 [reactor-http-nio-12] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:18:23.322 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60084"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:18:23.323 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6727f26', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.016E-4, duration(nanos)=701600.0, startTimeNanos=14397055729100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@48af15a5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0118782, duration(nanos)=1.18782E7, startTimeNanos=14397044634400}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60084"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:18:23.327 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:58983"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:18:23.327 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3a1c2d7c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.84E-5, duration(nanos)=98400.0, startTimeNanos=14397060471100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7f5a2333', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0138242, duration(nanos)=1.38242E7, startTimeNanos=14397046994600}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"175", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:58983"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:18:23.607 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:18:23.607 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3a1c2d7c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.2801705, duration(nanos)=2.801705E8, startTimeNanos=14397060471100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7f5a2333', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.2937362, duration(nanos)=2.937362E8, startTimeNanos=14397046994600}'], parentObservation=null}}
2025-09-11 14:18:23.609 [reactor-http-nio-2] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:18:23.609 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:18:23.609 [reactor-http-nio-2] INFO  [3d89fc62] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:18:23.609 | 3d89fc62 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 292ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:18:23.610 [reactor-http-nio-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6727f26', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.2877075, duration(nanos)=2.877075E8, startTimeNanos=14397055729100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/refresh'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@48af15a5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.2988961, duration(nanos)=2.988961E8, startTimeNanos=14397044634400}'], parentObservation=null}}
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:18:23.610 [reactor-http-nio-2] DEBUG [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3d89fc62 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:18:23 GMT]
2025-09-11 14:18:23.610 [reactor-http-nio-2] WARN  [3d89fc62] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 3d89fc62 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 292ms
2025-09-11 14:18:23.612 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:18:23.612 [reactor-http-nio-1] INFO  [7324f7d4] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:18:23.612 | 7324f7d4 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 298ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:18:23.612 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:18:23.612 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers, Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:18:23.612 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:18:23.612 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:18:23.613 [reactor-http-nio-1] DEBUG [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7324f7d4 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:18:23 GMT]
2025-09-11 14:18:23.613 [reactor-http-nio-1] WARN  [7324f7d4] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - ERROR_RESPONSE | 7324f7d4 | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/refresh | 500 | Internal Server Error | 298ms
2025-09-11 14:18:23.614 [reactor-http-nio-12] INFO  [3d89fc62] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:18:23.614 | 3d89fc62 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 297ms | onComplete
2025-09-11 14:18:23.614 [reactor-http-nio-12] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T14:18:23.6146772 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 500
2025-09-11 14:18:23.615 [reactor-http-nio-11] INFO  [7324f7d4] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:18:23.615 | 7324f7d4 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 301ms | onComplete
2025-09-11 14:18:23.616 [reactor-http-nio-11] ERROR [] [] SECURITY_LOGGER - SERVER_ERROR | 2025-09-11T14:18:23.6165811 | 0:0:0:0:0:0:0:1 | POST | /api/auth/refresh | 500
2025-09-11 14:30:51.973 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 14:30:52.035 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:30:52.036 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [6411fe26-31] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:30:52.062 [reactor-http-nio-3] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:30:52.111 [reactor-http-nio-3] INFO  [fcdb4446] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:30:52.072 | fcdb4446 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 14:30:52.111 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:30:52.111 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:30:52.113 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:30:52.114 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:30:53.014 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52741"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:30:53.137 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@15a6b8e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0089486, duration(nanos)=8948600.0, startTimeNanos=15146850105900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2f37932d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.2546924, duration(nanos)=1.2546924E9, startTimeNanos=15145614590600}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:52741"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:30:55.052 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 14:30:55.699 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:30:55.699 [reactor-http-nio-4] INFO  [fcdb4446] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:30:55.699 | fcdb4446 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 3627ms | N/A | N/A | N/A | N/A | 5
2025-09-11 14:30:55.701 [reactor-http-nio-4] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:30:55.701 [reactor-http-nio-4] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:30:55.702 [reactor-http-nio-4] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:30:55.704 [reactor-http-nio-4] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:30:55.704 [reactor-http-nio-4] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | fcdb4446 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:30:55.727 [reactor-http-nio-4] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:30:55.727 | fcdb4446 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 3653ms | onComplete
2025-09-11 14:31:08.794 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:31:08.794 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:08.794 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [aba3e958-32] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:08.800 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service-legacy
2025-09-11 14:31:08.800 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/auth/authenticate] to Route{id='auth-service-legacy', uri=http://localhost:31301, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:08.801 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [aba3e958-33] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:08.801 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/auth/(?<remaining>.*) = '/api/v1/auth/${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:31:08.802 [reactor-http-nio-5] INFO  [2fe0f3ca] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:31:08.802 | 2fe0f3ca | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 18
2025-09-11 14:31:08.802 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:31:08.802 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:31:08.802 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Content-Length: [63]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:31:08.803 [reactor-http-nio-5] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:31:08.809 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:62276"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:08.811 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@62fbe70a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.526E-4, duration(nanos)=652600.0, startTimeNanos=15162543196900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@eb20c76', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0113424, duration(nanos)=1.13424E7, startTimeNanos=15162532613300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"63", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:62276"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:09.654 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:31:09.656 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='auth-service-legacy', spring.cloud.gateway.route.uri='http://localhost:31301'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@62fbe70a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.8458977, duration(nanos)=8.458977E8, startTimeNanos=15162543196900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/auth/authenticate'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@eb20c76', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.8565642, duration(nanos)=8.565642E8, startTimeNanos=15162532613300}'], parentObservation=null}}
2025-09-11 14:31:09.657 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:31:09.657 [reactor-http-nio-6] INFO  [2fe0f3ca] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:31:09.657 | 2fe0f3ca | 0:0:0:0:0:0:0:1 | POST | /api/v1/auth/authenticate | 200 | OK | 855ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:31:09.657 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:31:09.657 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:09.658 [reactor-http-nio-6] DEBUG [2fe0f3ca] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2fe0f3ca | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:31:09 GMT]
2025-09-11 14:31:09.667 [reactor-http-nio-5] INFO  [2fe0f3ca] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:31:09.667 | 2fe0f3ca | 0:0:0:0:0:0:0:1 | POST | /api/auth/authenticate | 865ms | onComplete
2025-09-11 14:31:09.862 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:31:09.862 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:09.862 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [aba3e958-34] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:09.869 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:31:09.869 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:09.869 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [aba3e958-35] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:09.870 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:31:09.871 [reactor-http-nio-5] INFO  [91fff973] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:31:09.871 | 91fff973 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 14:31:09.872 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:31:09.872 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:31:09.872 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:09.872 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:31:09.872 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:31:09.873 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:31:09.874 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:31:09.874 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:31:09.874 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:31:09.874 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:31:09.874 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:31:09.875 [reactor-http-nio-5] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:31:09.878 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:31:09.878 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:09.878 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [861f2fa5-36] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:09.881 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:62276"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:09.884 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5c661035', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0012317, duration(nanos)=1231700.0, startTimeNanos=15163615116300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4f5b5e6f', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0154688, duration(nanos)=1.54688E7, startTimeNanos=15163601783100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:62276"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:09.885 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:31:09.885 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:31:09.885 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [861f2fa5-37] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:31:09.886 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:31:09.887 [reactor-http-nio-7] INFO  [2f6769cf] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:31:09.887 | 2f6769cf | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:31:09.887 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:31:09.888 [reactor-http-nio-7] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:31:09.898 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60084"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:09.899 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@72a52339', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.735E-4, duration(nanos)=173500.0, startTimeNanos=15163632237000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6cea40a7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0150933, duration(nanos)=1.50933E7, startTimeNanos=15163617433200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:60084"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:31:10.853 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:31:10.855 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@72a52339', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.9556971, duration(nanos)=9.556971E8, startTimeNanos=15163632237000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6cea40a7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.9707998, duration(nanos)=9.707998E8, startTimeNanos=15163617433200}'], parentObservation=null}}
2025-09-11 14:31:10.855 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:31:10.855 [reactor-http-nio-8] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5c661035', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.9741993, duration(nanos)=9.741993E8, startTimeNanos=15163615116300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4f5b5e6f', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.987674, duration(nanos)=9.87674E8, startTimeNanos=15163601783100}'], parentObservation=null}}
2025-09-11 14:31:10.857 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:31:10.857 [reactor-http-nio-9] INFO  [2f6769cf] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:31:10.857 | 2f6769cf | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 970ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:31:10.857 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:31:10.857 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:10.859 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:31:10.859 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:31:10.859 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:10.859 [reactor-http-nio-8] INFO  [91fff973] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:31:10.857 | 91fff973 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 986ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:31:10.860 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:31:10.860 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:31:10.860 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:31:10.860 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:31:10.859 [reactor-http-nio-9] DEBUG [2f6769cf] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 2f6769cf | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:31:10 GMT]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:31:10.861 [reactor-http-nio-8] DEBUG [91fff973] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 91fff973 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:31:10 GMT]
2025-09-11 14:31:10.871 [reactor-http-nio-7] INFO  [2f6769cf] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:31:10.871 | 2f6769cf | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 984ms | onComplete
2025-09-11 14:31:10.871 [reactor-http-nio-5] INFO  [91fff973] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:31:10.871 | 91fff973 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 1000ms | onComplete
2025-09-11 14:33:05.333 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 14:33:05.334 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 14:33:05.334 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [1ef172c8-38] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 14:33:05.335 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 14:33:05.335 [reactor-http-nio-10] INFO  [90fe5191] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 14:33:05.335 | 90fe5191 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryIDBpZJJ0BlkkHith | N/A | 18
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Content-Length: [181092]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryIDBpZJJ0BlkkHith]
2025-09-11 14:33:05.336 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 14:33:05.338 [reactor-http-nio-10] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 14:33:05.346 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"181092", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryIDBpZJJ0BlkkHith", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:53714"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:33:05.349 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@e102b7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.293E-4, duration(nanos)=829300.0, startTimeNanos=15279080491200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@15dc8ce2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0163551, duration(nanos)=1.63551E7, startTimeNanos=15279065108900}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"181092", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryIDBpZJJ0BlkkHith", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:53714"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 14:33:25.284 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 14:33:25.287 [reactor-http-nio-11] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@e102b7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=19.9392632, duration(nanos)=1.99392632E10, startTimeNanos=15279080491200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@15dc8ce2', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=19.9547542, duration(nanos)=1.99547542E10, startTimeNanos=15279065108900}'], parentObservation=null}}
2025-09-11 14:33:25.288 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 14:33:25.288 [reactor-http-nio-11] INFO  [90fe5191] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 14:33:25.288 | 90fe5191 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 19953ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 14:33:25.288 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 14:33:25.288 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 14:33:25.289 [reactor-http-nio-11] DEBUG [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 90fe5191 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 11:33:25 GMT]
2025-09-11 14:33:25.289 [reactor-http-nio-11] WARN  [90fe5191] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | 90fe5191 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | 19953ms
2025-09-11 14:33:25.306 [reactor-http-nio-10] INFO  [90fe5191] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 14:33:25.306 | 90fe5191 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 19971ms | onComplete
2025-09-11 15:09:22.310 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:09:22.320 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:09:22.320 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [89811154-39] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:09:22.326 [reactor-http-nio-12] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:09:22.330 [reactor-http-nio-12] INFO  [00ad1e9b] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:09:22.328 | 00ad1e9b | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:09:22.330 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:09:22.373 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51378"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:09:22.378 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4e3bc98b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.36899E-4, duration(nanos)=536899.0, startTimeNanos=17456108020400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@706a4793', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.081647901, duration(nanos)=8.1647901E7, startTimeNanos=17456027805099}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51378"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:09:22.393 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:09:22.412 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:09:22.412 [reactor-http-nio-1] INFO  [00ad1e9b] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:09:22.412 | 00ad1e9b | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 84ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:09:22.412 [reactor-http-nio-1] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:09:22.412 [reactor-http-nio-1] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:09:22.412 [reactor-http-nio-1] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:09:22.412 [reactor-http-nio-1] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:09:22.412 [reactor-http-nio-1] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 00ad1e9b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:09:22.415 [reactor-http-nio-1] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:09:22.415 | 00ad1e9b | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 87ms | onComplete
2025-09-11 15:12:48.984 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:12:48.984 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:12:48.986 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:12:48.986 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:12:48.986 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-41] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:12:48.986 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-40] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:12:48.993 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:12:48.993 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:12:48.994 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-42] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:12:48.994 [reactor-http-nio-2] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:12:48.996 [reactor-http-nio-2] INFO  [034e3e1a] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:12:48.996 | 034e3e1a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:12:48.996 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:12:48.997 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:12:48.997 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:12:48.997 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-43] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:12:48.998 [reactor-http-nio-3] DEBUG [fcdb4446] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:12:48.999 [reactor-http-nio-3] INFO  [eb28d3e3] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:12:48.999 | eb28d3e3 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:12:48.999 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:12:49.008 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:49.010 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@78960793', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0010427, duration(nanos)=1042700.0, startTimeNanos=17662742519400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@95c2fff', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0175991, duration(nanos)=1.75991E7, startTimeNanos=17662726103300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:49.018 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:49.019 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@193bc8ce', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.036E-4, duration(nanos)=103600.0, startTimeNanos=17662752445800}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3b4f42a5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0265049, duration(nanos)=2.65049E7, startTimeNanos=17662726103200}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:49.020 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:12:49.023 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:12:49.024 [reactor-http-nio-4] INFO  [034e3e1a] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:12:49.023 | 034e3e1a | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 27ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:12:49.024 [reactor-http-nio-4] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:12:49.024 [reactor-http-nio-4] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:12:49.024 [reactor-http-nio-4] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:12:49.024 [reactor-http-nio-4] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:12:49.024 [reactor-http-nio-4] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 034e3e1a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:12:49.023 [reactor-http-nio-5] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:12:49.024 [reactor-http-nio-5] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:12:49.024 [reactor-http-nio-5] INFO  [eb28d3e3] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:12:49.024 | eb28d3e3 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 25ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:12:49.024 [reactor-http-nio-5] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:12:49.024 [reactor-http-nio-4] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:12:49.024 | 034e3e1a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 28ms | onComplete
2025-09-11 15:12:49.024 [reactor-http-nio-5] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:12:49.024 [reactor-http-nio-5] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:12:49.024 [reactor-http-nio-5] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:12:49.024 [reactor-http-nio-5] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | eb28d3e3 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:12:49.026 [reactor-http-nio-5] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:12:49.026 | eb28d3e3 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 27ms | onComplete
2025-09-11 15:12:59.021 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:12:59.023 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:12:59.023 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-44] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:12:59.025 [reactor-http-nio-3] DEBUG [eb28d3e3] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:12:59.026 [reactor-http-nio-3] INFO  [c85a7b3f] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:12:59.026 | c85a7b3f | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:12:59.026 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:12:59.028 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:12:59.036 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:59.038 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@732d70c0', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.392E-4, duration(nanos)=339200.0, startTimeNanos=17672771693900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1be69a8d', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.017878, duration(nanos)=1.7878E7, startTimeNanos=17672754283700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:12:59.065 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:12:59.067 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:12:59.067 [reactor-http-nio-6] INFO  [c85a7b3f] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:12:59.067 | c85a7b3f | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 41ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:12:59.067 [reactor-http-nio-6] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:12:59.067 [reactor-http-nio-6] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:12:59.067 [reactor-http-nio-6] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:12:59.067 [reactor-http-nio-6] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:12:59.067 [reactor-http-nio-6] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c85a7b3f | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:12:59.068 [reactor-http-nio-6] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:12:59.068 | c85a7b3f | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 42ms | onComplete
2025-09-11 15:13:05.356 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:13:05.356 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:13:05.356 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-45] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:13:05.357 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:13:05.357 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:13:05.357 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-46] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:13:05.358 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:13:05.359 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:13:05.359 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-47] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:13:05.359 [reactor-http-nio-3] DEBUG [c85a7b3f] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:13:05.360 [reactor-http-nio-3] INFO  [67b82ee1] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:13:05.360 | 67b82ee1 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:13:05.360 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:13:05.361 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:13:05.361 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:13:05.361 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-48] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:13:05.362 [reactor-http-nio-2] DEBUG [034e3e1a] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:13:05.363 [reactor-http-nio-2] INFO  [32eb461b] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:13:05.363 | 32eb461b | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:13:05.363 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:13:05.366 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:05.367 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5c5c5c87', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.47E-5, duration(nanos)=64700.0, startTimeNanos=17679099667300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1d4777c3', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0076839, duration(nanos)=7683900.0, startTimeNanos=17679092099700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:05.369 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:05.370 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@574bfdb', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.98E-5, duration(nanos)=89800.0, startTimeNanos=17679102626900}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2a697f0a', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0087588, duration(nanos)=8758800.0, startTimeNanos=17679094195100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:05.374 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:13:05.376 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:13:05.376 [reactor-http-nio-8] INFO  [32eb461b] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:13:05.376 | 32eb461b | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 13ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:13:05.376 [reactor-http-nio-8] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:13:05.376 [reactor-http-nio-8] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:13:05.376 [reactor-http-nio-8] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:13:05.376 [reactor-http-nio-8] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:13:05.376 [reactor-http-nio-8] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 32eb461b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:13:05.371 [reactor-http-nio-7] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:13:05.387 [reactor-http-nio-8] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:13:05.387 | 32eb461b | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 24ms | onComplete
2025-09-11 15:13:05.388 [reactor-http-nio-7] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:13:05.388 [reactor-http-nio-7] INFO  [67b82ee1] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:13:05.388 | 67b82ee1 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 28ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:13:05.388 [reactor-http-nio-7] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:13:05.388 [reactor-http-nio-7] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:13:05.388 [reactor-http-nio-7] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:13:05.388 [reactor-http-nio-7] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:13:05.388 [reactor-http-nio-7] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 67b82ee1 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:13:05.390 [reactor-http-nio-7] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:13:05.390 | 67b82ee1 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 30ms | onComplete
2025-09-11 15:13:40.152 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:13:40.153 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:13:40.153 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-49] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:13:40.154 [reactor-http-nio-3] DEBUG [67b82ee1] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:13:40.154 [reactor-http-nio-3] INFO  [b3f05c78] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:13:40.154 | b3f05c78 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:13:40.155 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:13:40.163 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:40.165 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@14efa6a4', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.454E-4, duration(nanos)=145400.0, startTimeNanos=17713897363400}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@32b03295', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0124209, duration(nanos)=1.24209E7, startTimeNanos=17713885165300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:13:40.175 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:13:40.178 [reactor-http-nio-9] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:13:40.178 [reactor-http-nio-9] INFO  [b3f05c78] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:13:40.178 | b3f05c78 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 24ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:13:40.178 [reactor-http-nio-9] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:13:40.178 [reactor-http-nio-9] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:13:40.178 [reactor-http-nio-9] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:13:40.178 [reactor-http-nio-9] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:13:40.178 [reactor-http-nio-9] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | b3f05c78 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:13:40.180 [reactor-http-nio-9] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:13:40.180 | b3f05c78 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 26ms | onComplete
2025-09-11 15:14:05.779 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:05.779 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:05.779 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-50] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:05.781 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:05.782 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:05.782 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-51] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:05.782 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:05.782 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:05.783 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [e1088abe-52] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:05.783 [reactor-http-nio-3] DEBUG [b3f05c78] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:14:05.784 [reactor-http-nio-3] INFO  [cd8a922a] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:14:05.784 | cd8a922a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:14:05.784 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:14:05.785 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:14:05.785 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:14:05.786 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:05.786 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:05.786 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7d361379-53] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [32eb461b] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:14:05.787 [reactor-http-nio-2] INFO  [9293ffe0] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:14:05.787 | 9293ffe0 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:14:05.787 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:14:05.788 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:14:05.796 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:05.797 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@736a7509', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.549E-4, duration(nanos)=154900.0, startTimeNanos=17739530058700}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1ad92746', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0148526, duration(nanos)=1.48526E7, startTimeNanos=17739515436700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57969"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:05.802 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:05.804 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@29ce9a12', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=9.03E-5, duration(nanos)=90300.0, startTimeNanos=17739536215300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6ddb7f65', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0184913, duration(nanos)=1.84913E7, startTimeNanos=17739518760400}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:51232"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:05.803 [reactor-http-nio-10] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:14:05.805 [reactor-http-nio-10] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:14:05.805 [reactor-http-nio-10] INFO  [cd8a922a] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:14:05.805 | cd8a922a | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 21ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:14:05.805 [reactor-http-nio-10] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:14:05.805 [reactor-http-nio-10] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:14:05.805 [reactor-http-nio-10] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:14:05.805 [reactor-http-nio-10] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:14:05.806 [reactor-http-nio-10] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | cd8a922a | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:14:05.808 [reactor-http-nio-10] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:14:05.808 | cd8a922a | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 24ms | onComplete
2025-09-11 15:14:05.811 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31303
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31303
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:14:05.813 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:14:05.813 [reactor-http-nio-11] INFO  [9293ffe0] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:14:05.813 | 9293ffe0 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 26ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:14:05.813 [reactor-http-nio-11] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:14:05.813 [reactor-http-nio-11] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:14:05.813 [reactor-http-nio-11] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:14:05.813 [reactor-http-nio-11] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:14:05.813 [reactor-http-nio-11] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 9293ffe0 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:14:05.815 [reactor-http-nio-11] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:14:05.815 | 9293ffe0 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 28ms | onComplete
2025-09-11 15:14:55.632 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:14:55.633 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:55.633 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [d9daeee6-54] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:55.638 [reactor-http-nio-12] DEBUG [00ad1e9b] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:14:55.638 [reactor-http-nio-12] INFO  [14c42103] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:14:55.638 | 14c42103 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:14:55.639 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:14:55.640 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:14:55.640 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:14:55.640 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:14:55.640 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:14:55.650 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50473"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:55.652 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4d399dea', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.965E-4, duration(nanos)=196500.0, startTimeNanos=17789384064100}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1e09701c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0255268, duration(nanos)=2.55268E7, startTimeNanos=17789359164700}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50473"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:55.657 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:14:55.660 [reactor-http-nio-1] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:14:55.660 [reactor-http-nio-1] INFO  [14c42103] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:14:55.660 | 14c42103 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 22ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:14:55.660 [reactor-http-nio-1] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:14:55.660 [reactor-http-nio-1] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:14:55.660 [reactor-http-nio-1] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:14:55.661 [reactor-http-nio-1] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:14:55.661 [reactor-http-nio-1] DEBUG [14c42103] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 14c42103 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:14:55.664 [reactor-http-nio-1] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:14:55.664 | 14c42103 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 26ms | onComplete
2025-09-11 15:14:59.076 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:59.076 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:59.076 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [d9daeee6-55] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:59.078 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:59.078 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:59.078 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7ba52ffa-56] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [d9daeee6-57] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [14c42103] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:14:59.080 [reactor-http-nio-12] INFO  [c8902562] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:14:59.080 | c8902562 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:14:59.080 [reactor-http-nio-12] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:14:59.082 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:14:59.082 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/bookings/packages] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:14:59.082 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.h.RoutePredicateHandlerMapping - [7ba52ffa-58] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:14:59.082 [reactor-http-nio-2] DEBUG [9293ffe0] [0:0:0:0:0:0:0:1] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:14:59.083 [reactor-http-nio-2] INFO  [3f8bcade] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:14:59.083 | 3f8bcade | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:14:59.083 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50473"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:14:59.083 [reactor-http-nio-2] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:14:59.084 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@434a67c5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.148E-4, duration(nanos)=114800.0, startTimeNanos=17792816540500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@755c189e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0044002, duration(nanos)=4400200.0, startTimeNanos=17792812308800}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:50473"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:59.086 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:59629"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:59.087 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@748b0d12', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.19E-5, duration(nanos)=61900.0, startTimeNanos=17792820044700}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@21571a0f', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0060264, duration(nanos)=6026400.0, startTimeNanos=17792814135000}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:59629"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:14:59.824 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 15:14:59.825 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 15:14:59.825 [reactor-http-nio-4] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@748b0d12', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7382903, duration(nanos)=7.382903E8, startTimeNanos=17792820044700}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@21571a0f', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7443177, duration(nanos)=7.443177E8, startTimeNanos=17792814135000}'], parentObservation=null}}
2025-09-11 15:14:59.826 [reactor-http-nio-4] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:14:59.826 [reactor-http-nio-3] DEBUG [cd8a922a] [0:0:0:0:0:0:0:1] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@434a67c5', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7421955, duration(nanos)=7.421955E8, startTimeNanos=17792816540500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/packages'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@755c189e', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.7470228, duration(nanos)=7.470228E8, startTimeNanos=17792812308800}'], parentObservation=null}}
2025-09-11 15:14:59.826 [reactor-http-nio-4] INFO  [3f8bcade] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:14:59.826 | 3f8bcade | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 743ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 15:14:59.826 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:14:59.826 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:14:59.826 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 15:14:59.827 [reactor-http-nio-3] ERROR [cd8a922a] [0:0:0:0:0:0:0:1] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:59.827 [reactor-http-nio-3] INFO  [c8902562] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:14:59.827 | c8902562 | 0:0:0:0:0:0:0:1 | GET | /booking-service/api/v1/bookings/packages | 200 | OK | 747ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 15:14:59.827 [reactor-http-nio-4] DEBUG [3f8bcade] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 3f8bcade | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 12:14:59 GMT]
2025-09-11 15:14:59.827 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 15:14:59.829 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 15:14:59.830 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:14:59.830 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 15:14:59.830 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 15:14:59.830 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:14:59.830 [reactor-http-nio-3] DEBUG [c8902562] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | c8902562 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 12:14:59 GMT]
2025-09-11 15:14:59.839 [reactor-http-nio-2] INFO  [3f8bcade] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:14:59.839 | 3f8bcade | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 756ms | onComplete
2025-09-11 15:14:59.839 [reactor-http-nio-12] INFO  [c8902562] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:14:59.839 | c8902562 | 0:0:0:0:0:0:0:1 | GET | /api/bookings/packages | 759ms | onComplete
2025-09-11 15:18:01.581 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: booking-service
2025-09-11 15:18:01.581 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:31304/api/bookings/register] to Route{id='booking-service', uri=http://localhost:31303, order=0, predicate=Paths: [/api/bookings, /api/bookings/**], match trailing slash: true, gatewayFilters=[[[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:18:01.581 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [a11be51c-59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[RewritePath /api/bookings(?<remaining>.*) = '/booking-service/api/v1/bookings${remaining}'], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:18:01.583 [reactor-http-nio-5] INFO  [bd6b4a59] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:18:01.583 | bd6b4a59 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | multipart/form-data; boundary=----WebKitFormBoundaryOcrXu0i9Znmk9yr3 | N/A | 18
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Content-Length: [1600966]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Content-Type: [multipart/form-data; boundary=----WebKitFormBoundaryOcrXu0i9Znmk9yr3]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:18:01.583 [reactor-http-nio-5] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:18:01.586 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Content-Length:"1600966", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryOcrXu0i9Znmk9yr3", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:58305"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:18:01.587 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@313325af', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.06E-5, duration(nanos)=80600.0, startTimeNanos=17975319710200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@243e53ff', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0055469, duration(nanos)=5546900.0, startTimeNanos=17975314339900}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Content-Length:"1600966", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"multipart/form-data; boundary=----WebKitFormBoundaryOcrXu0i9Znmk9yr3", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:58305"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:18:08.380 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - Will instrument the response
2025-09-11 15:18:08.380 [reactor-http-nio-6] DEBUG [] [] o.s.c.g.f.h.o.ObservedResponseHttpHeadersFilter - The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='booking-service', spring.cloud.gateway.route.uri='http://localhost:31303'], highCardinalityKeyValues=[http.uri='http://localhost:31304/booking-service/api/v1/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@313325af', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.7943798, duration(nanos)=6.7943798E9, startTimeNanos=17975319710200}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='POST', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/bookings/register'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@243e53ff', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.7998178, duration(nanos)=6.7998178E9, startTimeNanos=17975314339900}'], parentObservation=null}}
2025-09-11 15:18:08.380 [reactor-http-nio-6] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:18:08.381 [reactor-http-nio-6] INFO  [bd6b4a59] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:18:08.381 | bd6b4a59 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | Created | 6798ms | application/json | N/A | no-cache, no-store, max-age=0, must-revalidate | N/A | 13
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | X-Content-Type-Options: [nosniff]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | X-XSS-Protection: [0]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache, no-store, max-age=0, must-revalidate]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Expires: [0]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | X-Frame-Options: [DENY]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:18:08.381 [reactor-http-nio-6] DEBUG [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | bd6b4a59 | 0:0:0:0:0:0:0:1 | Date: [Thu, 11 Sep 2025 12:18:08 GMT]
2025-09-11 15:18:08.381 [reactor-http-nio-6] WARN  [bd6b4a59] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - SLOW_RESPONSE | bd6b4a59 | 0:0:0:0:0:0:0:1 | POST | /booking-service/api/v1/bookings/register | 201 | 6798ms
2025-09-11 15:18:08.388 [reactor-http-nio-5] INFO  [bd6b4a59] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:18:08.388 | bd6b4a59 | 0:0:0:0:0:0:0:1 | POST | /api/bookings/register | 6805ms | onComplete
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/featured?page=0&size=20] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [b1e855b3-60] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:19:35.150 [reactor-http-nio-7] INFO  [e87dc7e8] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:19:35.150 | e87dc7e8 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured?page=0&size=20 | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | N/A | N/A | 16
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:19:35.150 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:19:35.151 [reactor-http-nio-7] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:19:35.155 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57928"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:19:35.156 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/featured?page=0&size=20'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@8f139f7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.71E-5, duration(nanos)=67100.0, startTimeNanos=18068888853500}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/featured'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@11efcd84', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0065607, duration(nanos)=6560700.0, startTimeNanos=18068882395300}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:57928"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:19:35.157 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:19:35.159 [reactor-http-nio-8] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:19:35.159 [reactor-http-nio-8] INFO  [e87dc7e8] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:19:35.159 | e87dc7e8 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/featured?page=0&size=20 | 200 | OK | 9ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:19:35.159 [reactor-http-nio-8] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:19:35.159 [reactor-http-nio-8] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:19:35.159 [reactor-http-nio-8] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:19:35.159 [reactor-http-nio-8] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:19:35.159 [reactor-http-nio-8] DEBUG [e87dc7e8] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | e87dc7e8 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:19:35.160 [reactor-http-nio-8] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:19:35.160 | e87dc7e8 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/featured | 10ms | onComplete
2025-09-11 15:20:01.271 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:20:01.271 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:20:01.271 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/listings/api/v1/properties/my-properties] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:20:01.271 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: OPTIONS http://localhost:31304/api/listings/api/v1/properties/my-properties] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:20:01.271 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [73511645-62] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:20:01.271 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [9020e68f-61] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:20:01.275 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:20:01.275 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: listings-service
2025-09-11 15:20:01.275 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/my-properties] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:20:01.275 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:31304/api/listings/api/v1/properties/my-properties] to Route{id='listings-service', uri=http://localhost:31300, order=0, predicate=Paths: [/api/listings/**], match trailing slash: true, gatewayFilters=[[[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0]], metadata={}}
2025-09-11 15:20:01.275 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [9020e68f-64] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:20:01.275 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.h.RoutePredicateHandlerMapping - [73511645-63] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26aee0a6
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:20:01.276 [reactor-http-nio-10] DEBUG [] [] o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1efcba00}, order = -2147483648], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.RequestLoggingFilter@3578a45b}, order = -2147483647], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.DDoSProtectionFilter@69bc4024}, order = -2147483638], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@31880efa}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6ed691fd}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c190cfc}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2fcc5f49}, order = 0], [[StripPrefix parts = 2], order = 0], [[AddRequestHeader X-Gateway = 'API-Gateway'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@311d28f5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@28e48b65}, order = 10150], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.ResponseLoggingFilter@24f177f5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77ce8bc5}, order = 2147483646], [GatewayFilterAdapter{delegate=com.afristays.apigateway.filter.AccessLoggingFilter@210c1b9d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@65e05005}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@569a26ab}, order = 2147483647]]
2025-09-11 15:20:01.276 [reactor-http-nio-9] INFO  [5fd3e5e6] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:20:01.276 | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/my-properties | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:20:01.276 [reactor-http-nio-10] INFO  [7eaf616b] [0:0:0:0:0:0:0:1] REQUEST_LOGGER - INCOMING_REQUEST | 2025-09-11 15:20:01.276 | 7eaf616b | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/my-properties | Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 | http://localhost:3000/ | application/json | N/A | 17
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:20:01.276 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Host: [localhost:31304]
2025-09-11 15:20:01.276 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Connection: [keep-alive]
2025-09-11 15:20:01.276 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Pragma: [no-cache]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:20:01.276 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Cache-Control: [no-cache]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | sec-ch-ua-platform: ["Windows"]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | User-Agent: [Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | sec-ch-ua: ["Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Content-Type: [application/json]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | sec-ch-ua-mobile: [?0]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Accept: [*/*]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Origin: [http://localhost:3000]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:20:01.277 [reactor-http-nio-9] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Site: [same-site]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Mode: [cors]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Sec-Fetch-Dest: [empty]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Referer: [http://localhost:3000/]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Accept-Encoding: [gzip, deflate, br, zstd]
2025-09-11 15:20:01.277 [reactor-http-nio-10] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.RequestLoggingFilter - REQUEST_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Accept-Language: [en-US,en;q=0.9,sw;q=0.8,sq;q=0.7]
2025-09-11 15:20:01.284 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56589"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:20:01.285 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/my-properties'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@39598c4b', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.186E-4, duration(nanos)=118600.0, startTimeNanos=18095017942300}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/my-properties'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6fae9134', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.010255, duration(nanos)=1.0255E7, startTimeNanos=18095007900100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56589"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:20:01.288 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Will instrument the HTTP request headers [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56933"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:20:01.288 [lettuce-nioEventLoop-5-1] DEBUG [] [] o.s.c.g.f.h.o.ObservedRequestHttpHeadersFilter - Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='listings-service', spring.cloud.gateway.route.uri='http://localhost:31300'], highCardinalityKeyValues=[http.uri='http://localhost:31304/api/v1/properties/my-properties'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@6e9133b7', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=1.161E-4, duration(nanos)=116100.0, startTimeNanos=18095021431000}'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='/api/listings/api/v1/properties/my-properties'], map=[class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@17d400c', class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.0137712, duration(nanos)=1.37712E7, startTimeNanos=18095007900100}'], parentObservation=null}} created for the request. New headers are [Host:"localhost:31304", Pragma:"no-cache", Cache-Control:"no-cache", sec-ch-ua-platform:""Windows"", User-Agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", sec-ch-ua:""Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"", Content-Type:"application/json", sec-ch-ua-mobile:"?0", Accept:"*/*", Origin:"http://localhost:3000", Sec-Fetch-Site:"same-site", Sec-Fetch-Mode:"cors", Sec-Fetch-Dest:"empty", Referer:"http://localhost:3000/", Accept-Encoding:"gzip, deflate, br, zstd", Accept-Language:"en-US,en;q=0.9,sw;q=0.8,sq;q=0.7", X-Gateway:"API-Gateway", Forwarded:"proto=http;host="localhost:31304";for="[0:0:0:0:0:0:0:1]:56933"", X-Forwarded-For:"0:0:0:0:0:0:0:1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/listings", X-Forwarded-Port:"31304", X-Forwarded-Host:"localhost:31304"]
2025-09-11 15:20:01.288 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:20:01.289 [reactor-http-nio-11] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:20:01.290 [reactor-http-nio-11] INFO  [5fd3e5e6] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:20:01.290 | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/my-properties | 200 | OK | 14ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:20:01.290 [reactor-http-nio-11] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:20:01.290 [reactor-http-nio-11] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:20:01.290 [reactor-http-nio-11] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:20:01.290 [reactor-http-nio-11] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:20:01.290 [reactor-http-nio-11] DEBUG [5fd3e5e6] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:20:01.291 [reactor-http-nio-11] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:20:01.291 | 5fd3e5e6 | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/my-properties | 15ms | onComplete
2025-09-11 15:20:01.295 [reactor-http-nio-12] ERROR [] [] c.a.a.filter.DDoSProtectionFilter - Error in DDoS protection filter for IP 0:0:0:0:0:0:0:1: Connection refused: getsockopt: localhost/127.0.0.1:31300
io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:31300
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:973)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-11 15:20:01.297 [reactor-http-nio-12] ERROR [] [] c.a.a.filter.AccessLoggingFilter - Error creating access log entry: Unsupported field: OffsetSeconds
2025-09-11 15:20:01.297 [reactor-http-nio-12] INFO  [7eaf616b] [0:0:0:0:0:0:0:1] RESPONSE_LOGGER - OUTGOING_RESPONSE | 2025-09-11 15:20:01.297 | 7eaf616b | 0:0:0:0:0:0:0:1 | GET | /api/v1/properties/my-properties | 200 | OK | 21ms | N/A | N/A | N/A | N/A | 5
2025-09-11 15:20:01.297 [reactor-http-nio-12] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | transfer-encoding: [chunked]
2025-09-11 15:20:01.297 [reactor-http-nio-12] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]
2025-09-11 15:20:01.298 [reactor-http-nio-12] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Origin: [http://localhost:3000]
2025-09-11 15:20:01.298 [reactor-http-nio-12] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Access-Control-Expose-Headers: [Authorization, Content-Type]
2025-09-11 15:20:01.298 [reactor-http-nio-12] DEBUG [7eaf616b] [0:0:0:0:0:0:0:1] c.a.a.filter.ResponseLoggingFilter - RESPONSE_HEADER | 7eaf616b | 0:0:0:0:0:0:0:1 | Access-Control-Allow-Credentials: [true]
2025-09-11 15:20:01.298 [reactor-http-nio-12] INFO  [] [] REQUEST_LOGGER - REQUEST_COMPLETED | 2025-09-11 15:20:01.298 | 7eaf616b | 0:0:0:0:0:0:0:1 | GET | /api/listings/api/v1/properties/my-properties | 22ms | onComplete
2025-09-11 15:23:52.136 [SpringApplicationShutdownHook] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-11 15:23:52.150 [netty-shutdown] INFO  [] [] o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-09-11 20:44:00.702 [main] INFO  [] [] c.a.apigateway.DDoSProtectionTest - Starting DDoSProtectionTest using Java 21.0.5 with PID 35748 (started by Trevin in C:\Users\Trevin\Documents\projects\personal\afristays\afristays\afristays-api-gateway)
2025-09-11 20:44:00.705 [main] DEBUG [] [] c.a.apigateway.DDoSProtectionTest - Running with Spring Boot v3.4.0, Spring v6.2.0
2025-09-11 20:44:00.706 [main] INFO  [] [] c.a.apigateway.DDoSProtectionTest - No active profile set, falling back to 1 default profile: "default"
2025-09-11 20:44:01.932 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-11 20:44:01.935 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-11 20:44:01.980 [main] INFO  [] [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-09-11 20:44:02.139 [main] INFO  [] [] o.s.cloud.context.scope.GenericScope - BeanFactory id=eac2ebf9-6b43-39e0-bc14-3968d89f88c6
2025-09-11 20:44:03.312 [main] WARN  [] [] c.a.a.s.InMemoryRateLimitService - Using in-memory rate limiting service. This is not recommended for production!
2025-09-11 20:44:04.505 [main] WARN  [] [] o.s.b.w.r.c.GenericReactiveWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisRateLimiter' defined in class path resource [org/springframework/cloud/gateway/config/GatewayRedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisRateLimiter' parameter 0: No qualifying bean of type 'org.springframework.data.redis.core.ReactiveStringRedisTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-09-11 20:44:04.564 [main] INFO  [] [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-11 20:44:04.617 [main] ERROR [] [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method redisRateLimiter in org.springframework.cloud.gateway.config.GatewayRedisAutoConfiguration required a bean of type 'org.springframework.data.redis.core.ReactiveStringRedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.ReactiveStringRedisTemplate' in your configuration.

2025-09-11 20:44:04.633 [main] WARN  [] [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.afristays.apigateway.DDoSProtectionTest@393e7546]
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@7fdff56b testClass = com.afristays.apigateway.DDoSProtectionTest, locations = [], classes = [com.afristays.apigateway.AfristaysApiGatewayApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = ["afristays.rate-limit.requests-per-minute=5", "afristays.rate-limit.ddos-threshold-per-second=3", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3cfdd820, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@dc9876b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@90c9add, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@748741cb, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1b266842, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4bd31064, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7354b8c5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@79c97cb, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@a45f9ddd], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisRateLimiter' defined in class path resource [org/springframework/cloud/gateway/config/GatewayRedisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisRateLimiter' parameter 0: No qualifying bean of type 'org.springframework.data.redis.core.ReactiveStringRedisTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1351)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 76 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.ReactiveStringRedisTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2139)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1589)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1514)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 102 common frames omitted
2025-09-11 20:44:04.675 [main] WARN  [] [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.afristays.apigateway.DDoSProtectionTest@2dfd157b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7fdff56b testClass = com.afristays.apigateway.DDoSProtectionTest, locations = [], classes = [com.afristays.apigateway.AfristaysApiGatewayApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = ["afristays.rate-limit.requests-per-minute=5", "afristays.rate-limit.ddos-threshold-per-second=3", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3cfdd820, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@dc9876b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@90c9add, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@748741cb, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1b266842, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4bd31064, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7354b8c5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@79c97cb, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@a45f9ddd], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-09-11 20:44:04.679 [main] WARN  [] [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.afristays.apigateway.DDoSProtectionTest@2fc435e9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7fdff56b testClass = com.afristays.apigateway.DDoSProtectionTest, locations = [], classes = [com.afristays.apigateway.AfristaysApiGatewayApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = ["afristays.rate-limit.requests-per-minute=5", "afristays.rate-limit.ddos-threshold-per-second=3", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3cfdd820, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@dc9876b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@90c9add, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@748741cb, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1b266842, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4bd31064, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7354b8c5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@79c97cb, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@a45f9ddd], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
